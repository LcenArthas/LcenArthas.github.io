
[{"content":" ","date":"2024-07-21","externalUrl":null,"permalink":"/","section":"","summary":"","title":"","type":"page"},{"content":" ç¬¬ 7 ç«  å‡½æ•° # åˆ†äº«ä¸€äº›åœ¨ Python é‡Œç¼–å†™å‡½æ•°çš„æŠ€å·§ã€‚\n1. ä»…é™å…³é”®å­—å‚æ•° # å½“è°ƒç”¨å‚æ•°è¾ƒå¤šï¼ˆè¶…è¿‡3ä¸ªï¼‰çš„å‡½æ•°æ—¶ï¼Œä½¿ç”¨å…³é”®å­—å‚æ•°æ¨¡å¼å¯ä»¥å¤§å¤§æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚\né€šè¿‡åœ¨å‚æ•°åˆ—è¡¨ä¸­æ’å…¥ * ç¬¦å·ï¼Œè¯¥ç¬¦å·åçš„æ‰€æœ‰å‚æ•°éƒ½å˜æˆäº†â€œä»…é™å…³é”®å­—å‚æ•°â€ï¼ˆkeyword-only argumentï¼‰ã€‚è°ƒç”¨çš„æ—¶å€™å¿…é¡»åŠ å…¥è°ƒç”¨çš„å‚æ•°åï¼š\n#æ³¨æ„å‚æ•°åˆ—è¡¨ä¸­çš„* ç¬¦å· def query_users(limit, offset, *, min_followers_count, include_profile): ... # è°ƒç”¨å‡½æ•° \u0026gt;\u0026gt;\u0026gt; query_users(20, 0, 100, True) # æ‰§è¡ŒåæŠ¥é”™ï¼š TypeError: query_users() takes 2 positional arguments but 4 were given # æ­£ç¡®çš„è°ƒç”¨æ–¹å¼ \u0026gt;\u0026gt;\u0026gt; query_users(20, 0, min_followers_count=100, include_profile=True) 2. è¿”å› None å€¼ # ä¸€èˆ¬åœ¨â€œæœç´¢â€ã€â€œæŸ¥è¯¢â€è¿™ä¸¤ä¸ªåœºæ™¯ä¼šä½¿ç”¨ None å€¼è¿›è¡Œè¿”å›ã€‚\n3. ç»™å‡½æ•°åŠ ä¸ŠçŠ¶æ€ â€”â€” é—­åŒ… # é—­åŒ…æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œéå¸¸é€‚åˆç”¨æ¥å®ç°ç®€å•çš„æœ‰çŠ¶æ€å‡½æ•°ã€‚\né—­åŒ…æ˜¯ä¸€ç§å…è®¸å‡½æ•°è®¿é—®å·²æ‰§è¡Œå®Œæˆçš„å…¶ä»–å‡½æ•°é‡Œçš„ç§æœ‰å˜é‡çš„æŠ€æœ¯ï¼Œæ˜¯ä¸ºå‡½æ•°å¢åŠ çŠ¶æ€çš„å¦ä¸€ç§æ–¹å¼ã€‚\næˆ‘æ„Ÿè§‰å°±æ˜¯å‡½æ•°å¥—å‡½æ•°ï¼Œå…¶å®å’Œä¸‹ä¸€ç« çš„è£…é¥°å™¨æœ‰å¾ˆå¤§çš„è”ç³»ã€‚\næ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“Pythonå®Œæˆä¸€æ¬¡å‡½æ•°æ‰§è¡Œåï¼Œæœ¬æ¬¡ä½¿ç”¨çš„å±€éƒ¨å˜é‡éƒ½ä¼šåœ¨è°ƒç”¨ç»“æŸåè¢«å›æ”¶ï¼Œæ— æ³•ç»§ç»­è®¿é—®ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨ä¸‹é¢è¿™ç§â€œå‡½æ•°å¥—å‡½æ•°â€çš„æ–¹å¼ï¼Œåœ¨å¤–å±‚å‡½æ•°æ‰§è¡Œç»“æŸåï¼Œè¿”å›å†…åµŒå‡½æ•°ï¼Œåè€…å°±å¯ä»¥ç»§ç»­è®¿é—®å‰è€…çš„å±€éƒ¨å˜é‡ï¼Œå½¢æˆäº†ä¸€ä¸ªâ€œé—­åŒ…â€ç»“æ„ï¼Œ\ndef counter(): value = 0 def _counter(): # nonlocal ç”¨æ¥æ ‡æ³¨å˜é‡æ¥è‡ªä¸Šå±‚ä½œç”¨åŸŸï¼Œå¦‚ä¸æ ‡æ˜ï¼Œå†…å±‚å‡½æ•°å°†æ— æ³•ç›´æ¥ä¿®æ”¹å¤–å±‚å‡½æ•°å˜é‡ nonlocal value value += 1 return value return _counter å…¶å®ä¸Šé¢çš„æ›´å¥½çš„æ–¹æ³•æ—¶ç”¨ç±»ï¼ˆclassï¼‰å®ç°ï¼Œ åªéœ€è¦ç”¨ç±»ä¸­åˆå§‹åŒ–çŠ¶æ€ __init__ å®ç°å°±å¥½ã€‚\næŠ½è±¡çš„æ¦‚å¿µ # åŒä¸€ä¸ªå‡½æ•°ä»£ç åº”è¯¥å¤„äºåŒä¸€æŠ½è±¡çº§åˆ«å†…ã€‚\nè¯¦è§ä¹¦ä¸­ P196 - P203\nç¬¬ 8 ç«  è£…é¥°å™¨ # ä¸€äº›åœ¨ Python ä¸­ç¼–å†™è£…é¥°å™¨çš„æŠ€å·§ï¼Œä»¥åŠå‡ ä¸ªç”¨äºç¼–å†™è£…é¥°å™¨çš„å¸¸è§å·¥å…·ã€‚\n1. è£…é¥°å™¨åŸºç¡€ # è£…é¥°å™¨æ˜¯ä¸€ç§é€šè¿‡åŒ…è£…ç›®æ ‡å‡½æ•°æ¥ä¿®æ”¹å…¶è¡Œä¸ºçš„ç‰¹æ®Šé«˜é˜¶å‡½æ•°ï¼Œç»å¤§å¤šæ•°è£…é¥°å™¨æ˜¯åˆ©ç”¨å‡½æ•°çš„ é—­åŒ…åŸç†å®ç°çš„ã€‚\n1. æ— å‚æ•°è£…é¥°å™¨ # def timer(func): \u0026#34;\u0026#34;\u0026#34;è£…é¥°å™¨ï¼šæ‰“å°å‡½æ•°è€—æ—¶\u0026#34;\u0026#34;\u0026#34; def decorated(*args, **kwargs): st = time.perf_counter() ret = func(*args, **kwargs) print(\u0026#39;time cost: {} seconds\u0026#39;.format(time.perf_counter() - st)) return ret return decorated åœ¨å†™è£…é¥°å™¨æ—¶ï¼Œæˆ‘ä¸€èˆ¬æŠŠ decorated å«ä½œ â€œåŒ…è£…å‡½æ•°â€ã€‚\n2. æœ‰å‚æ•°è£…é¥°å™¨ # def timer(print_args=False): \u0026#34;\u0026#34;\u0026#34;è£…é¥°å™¨ï¼šæ‰“å°å‡½æ•°è€—æ—¶ :param print_args: æ˜¯å¦æ‰“å°æ–¹æ³•åå’Œå‚æ•°ï¼Œé»˜è®¤ä¸º False \u0026#34;\u0026#34;\u0026#34; def decorator(func): def wrapper(*args, **kwargs): st = time.perf_counter() ret = func(*args, **kwargs) if print_args: print(f\u0026#39;\u0026#34;{func.__name__}\u0026#34;, args: {args}, kwargs: {kwargs}\u0026#39;) print(\u0026#39;time cost: {} seconds\u0026#39;.format(time.perf_counter() - st)) return ret return wrapper return decorator åœ¨åº”ç”¨æœ‰å‚æ•°è£…é¥°å™¨æ—¶ï¼Œä¸€å…±è¦åšä¸¤æ¬¡å‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥è£…é¥°å™¨æ€»å…±å¾—åŒ…å«ä¸‰å±‚åµŒå¥—å‡½æ•°ã€‚\n2. ä½¿ç”¨ functools.wraps() ä¿®é¥°åŒ…è£…å‡½æ•°ã€‚ # åœ¨è£…é¥°å™¨åŒ…è£…ç›®æ ‡å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸ä¼šå‡ºç°ä¸€äº›å‰¯ä½œç”¨ï¼Œå…¶ä¸­ä¸€ç§æ˜¯ä¸¢å¤±å‡½æ•°å…ƒæ•°æ®ã€‚\nä¼šå‡ºç°ä¸‹é¢çš„æƒ…å†µï¼š\n\u0026gt;\u0026gt;\u0026gt; random_sleep.__name__ \u0026#39;decorated\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(random_sleep.__doc__) None æˆ–è€…é¥°å™¨ç»™å‡½æ•°è¿½åŠ çš„å±æ€§æ‰¾ä¸åˆ°äº†ã€‚\nè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è£…é¥°å™¨å†…åŒ…è£…å‡½æ•°æ—¶ï¼Œä¿ç•™åŸå§‹å‡½æ•°çš„é¢å¤–å±æ€§ã€‚ è€Œ functools æ¨¡å—ä¸‹çš„ wraps() å‡½æ•°æ­£å¥½å¯ä»¥å®Œæˆè¿™ä»¶äº‹æƒ…ã€‚ä½¿ç”¨ wraps()ï¼Œè£…é¥°å™¨åªéœ€è¦åšä¸€ç‚¹å„¿æ”¹åŠ¨ï¼š\nfrom functools import wraps def timer(func): @wraps(func) def decorated(*args, **kwargs): ... return decorated æ·»åŠ  @wraps(wrapped) æ¥è£…é¥° decorated å‡½æ•°åï¼Œwraps() é¦–å…ˆä¼šåŸºäºåŸå‡½æ•° func æ¥æ›´æ–°åŒ…è£…å‡½æ•° decorated çš„åç§°ã€æ–‡æ¡£ç­‰å†…ç½®å±æ€§ï¼Œä¹‹åä¼šå°† func çš„æ‰€æœ‰é¢å¤–å±æ€§èµ‹å€¼åˆ° decorated ä¸Šã€‚\n3. ç”¨ç±»æ¥å®ç°è£…é¥°å™¨ # åˆ¤æ–­å¯¹è±¡æ˜¯å¦èƒ½é€šè¿‡è£…é¥°å™¨ï¼ˆ@decoratorï¼‰çš„å½¢å¼ä½¿ç”¨åªæœ‰ä¸€æ¡åˆ¤æ–­æ ‡å‡†ï¼Œé‚£å°±æ˜¯ decorator æ˜¯ä¸æ˜¯ä¸€ä¸ªå¯è°ƒç”¨çš„å¯¹è±¡ã€‚\nè‡ªç„¶å‡½æ•°æ˜¯å¯è°ƒç”¨çš„å¯¹è±¡ã€‚\n\u0026gt;\u0026gt;\u0026gt; class Foo: ... pass ... \u0026gt;\u0026gt;\u0026gt; callable(Foo) True # ä½¿ç”¨callable()å†…ç½®å‡½æ•°å¯ä»¥åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦å¯è°ƒç”¨ã€‚ ç±»ï¼ˆclassï¼‰ä¹Ÿå¯ä»¥æ˜¯è°ƒç”¨å¯¹è±¡ï¼Œå‰ææ˜¯ä¸€ä¸ªç±»ä¸­å®ç°äº† __call__ é­”æ³•æ–¹æ³•ï¼Œé‚£ä¹ˆä»–çš„å®ä¾‹ä¹Ÿä¼šå˜æˆè°ƒç”¨å¯¹è±¡ã€‚\n\u0026gt;\u0026gt;\u0026gt; class Foo: ... def __call__(self, name): ... print(f\u0026#39;Hello, {name}\u0026#39;) ... \u0026gt;\u0026gt;\u0026gt; foo = Foo() \u0026gt;\u0026gt;\u0026gt; callable(foo) True \u0026gt;\u0026gt;\u0026gt; foo(\u0026#39;World\u0026#39;) Hello, World 1. å‡½æ•°æ›¿æ¢è£…é¥°å™¨ # è¿™ç§æŠ€æœ¯æœ€é€‚åˆç”¨æ¥å®ç°æ¥æ”¶å‚æ•°çš„è£…é¥°å™¨ã€‚\nclass timer: \u0026#34;\u0026#34;\u0026#34;è£…é¥°å™¨ï¼šæ‰“å°å‡½æ•°è€—æ—¶ :param print_args: æ˜¯å¦æ‰“å°æ–¹æ³•åå’Œå‚æ•°ï¼Œé»˜è®¤ä¸º False \u0026#34;\u0026#34;\u0026#34; def __init__(self, print_args): self.print_args = print_args def __call__(self, func): @wraps(func) def decorated(*args, **kwargs): st = time.perf_counter() ret = func(*args, **kwargs) if self.print_args: print(f\u0026#39;\u0026#34;{func.__name__}\u0026#34;, args: {args}, kwargs: {kwargs}\u0026#39;) print(\u0026#39;time cost: {} seconds\u0026#39;.format(time.perf_counter() - st)) return ret return decorated ï¼ˆ1ï¼‰ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼š_deco = timer(print_args=True) å®é™…ä¸Šæ˜¯åœ¨åˆå§‹åŒ–ä¸€ä¸ª timer å®ä¾‹ã€‚\nï¼ˆ2ï¼‰ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šfunc = _deco(func) æ˜¯åœ¨è°ƒç”¨ timer å®ä¾‹ï¼Œè§¦å‘ __call__ æ–¹æ³•ã€‚\n2. â€œå®ä¾‹æ›¿æ¢â€è£…é¥°å™¨ # æ— å‚æ•°è£…é¥°å™¨ DelayedStart\nclass DelayedStart: \u0026#34;\u0026#34;\u0026#34;åœ¨æ‰§è¡Œè¢«è£…é¥°å‡½æ•°å‰ï¼Œç­‰å¾… 1 ç§’é’Ÿ\u0026#34;\u0026#34;\u0026#34; def __init__(self, func): update_wrapper(self, func) âŠ self.func = func def __call__(self, *args, **kwargs): â‹ print(f\u0026#39;Wait for 1 second before starting...\u0026#39;) time.sleepï¼ˆ1ï¼‰ return self.func(*args, **kwargs) def eager_call(self, *args, **kwargs): âŒ \u0026#34;\u0026#34;\u0026#34;è·³è¿‡ç­‰å¾…ï¼Œç«‹åˆ»æ‰§è¡Œè¢«è£…é¥°å‡½æ•°\u0026#34;\u0026#34;\u0026#34; print(\u0026#39;Call without delay\u0026#39;) return self.func(*args, **kwargs) â¶ update_wrapperä¸å‰é¢çš„wrapsä¸€æ ·ï¼Œéƒ½æ˜¯æŠŠè¢«åŒ…è£…å‡½æ•°çš„å…ƒæ•°æ®æ›´æ–°åˆ°åŒ…è£…è€…ï¼ˆåœ¨è¿™é‡Œæ˜¯DelayedStartå®ä¾‹ï¼‰ä¸Šã€‚ â· é€šè¿‡å®ç° __call__ æ–¹æ³•ï¼Œè®© DelayedStart çš„å®ä¾‹å˜å¾—å¯è°ƒç”¨ï¼Œä»¥æ­¤æ¨¡æ‹Ÿå‡½æ•°çš„è°ƒç”¨è¡Œä¸ºã€‚ â¸ ä¸ºè£…é¥°å™¨ç±»å®šä¹‰é¢å¤–æ–¹æ³•ï¼Œæä¾›æ›´å¤šæ ·åŒ–çš„æ¥å£ã€‚ \u0026gt;\u0026gt;\u0026gt; @DelayedStart ... def hello(): ... print(\u0026#34;Hello, World.\u0026#34;) \u0026gt;\u0026gt;\u0026gt; hello \u0026lt;__main__.DelayedStart object at 0x100b71130\u0026gt; \u0026gt;\u0026gt;\u0026gt; type(hello) \u0026lt;class \u0026#39;__main__.DelayedStart\u0026#39;\u0026gt; \u0026gt;\u0026gt;\u0026gt; hello.__name__âŠ \u0026#39;hello\u0026#39; \u0026gt;\u0026gt;\u0026gt; hello() â‹ Wait for 1 second before starting... Hello, World. \u0026gt;\u0026gt;\u0026gt; hello.eager_call() âŒ Call without delay Hello, World. â¶ è¢«è£…é¥°çš„helloå‡½æ•°å·²ç»å˜æˆäº†è£…é¥°å™¨ç±»DelayedStartçš„å®ä¾‹ï¼Œä½†æ˜¯å› ä¸ºupdate_wrapperçš„ä½œç”¨ï¼Œè¿™ä¸ªå®ä¾‹ä»ç„¶ä¿ç•™äº†è¢«è£…é¥°å‡½æ•°çš„å…ƒæ•°æ®ã€‚ â· æ­¤æ—¶è§¦å‘çš„å…¶å®æ˜¯è£…é¥°å™¨ç±»å®ä¾‹çš„__call__æ–¹æ³•ã€‚ â¸ ä½¿ç”¨é¢å¤–çš„eager_callæ¥å£è°ƒç”¨å‡½æ•°ã€‚ å¸¦å‚æ•°è£…é¥°å™¨ DelayedStart\nclass DelayedStart: \u0026#34;\u0026#34;\u0026#34;åœ¨æ‰§è¡Œè¢«è£…é¥°å‡½æ•°å‰ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ :param func: è¢«è£…é¥°çš„å‡½æ•° :param duration: éœ€è¦ç­‰å¾…çš„ç§’æ•° \u0026#34;\u0026#34;\u0026#34; def __init__(self, func, *, duration=1): âŠ update_wrapper(self, func) self.func = func self.duration = duration def __call__(self, *args, **kwargs): print(f\u0026#39;Wait for {self.duration} second before starting...\u0026#39;) time.sleep(self.duration) return self.func(*args, **kwargs) def eager_call(self, *args, **kwargs): ... def delayed_start(**kwargs): \u0026#34;\u0026#34;\u0026#34;è£…é¥°å™¨ï¼šæ¨è¿ŸæŸä¸ªå‡½æ•°çš„æ‰§è¡Œ\u0026#34;\u0026#34;\u0026#34; return functools.partial(DelayedStart, **kwargs) â‹ â¶ æŠŠ func å‚æ•°ä»¥å¤–çš„å…¶ä»–å‚æ•°éƒ½å®šä¹‰ä¸ºâ€œä»…é™å…³é”®å­—å‚æ•°â€ï¼Œä»è€Œæ›´å¥½åœ°åŒºåˆ†åŸå§‹å‡½æ•°ä¸è£…é¥°å™¨çš„å…¶ä»–å‚æ•°ã€‚ â· é€šè¿‡ partial æ„å»ºä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ¥æ”¶çš„å”¯ä¸€å‚æ•°æ˜¯å¾…è£…é¥°å‡½æ•° funcï¼Œå› æ­¤å¯ä»¥ç”¨ä½œè£…é¥°å™¨ã€‚ delayed_start è¿™ä¸ªå‡½æ•°å¿…ä¸å¯å°‘ï¼Œå®ä¾‹åŒ–è¿™ä¸ª DelayedStart ç±»ï¼Œä¾¿äºæ¥å— func å‚æ•°ã€‚\n@delayed_start(duration=2) def hello(): print(\u0026#34;Hello, World.\u0026#34;) ç›¸æ¯”ä¼ ç»Ÿåšæ³•ï¼Œç”¨ç±»æ¥å®ç°è£…é¥°å™¨ï¼ˆå®ä¾‹æ›¿æ¢ï¼‰çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºï¼Œä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°ç®¡ç†è£…é¥°å™¨çš„å†…éƒ¨çŠ¶æ€ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æ›´è‡ªç„¶åœ°ä¸ºè¢«è£…é¥°å¯¹è±¡è¿½åŠ é¢å¤–çš„æ–¹æ³•å’Œå±æ€§ã€‚\n4. è£…é¥°å™¨è®¾è®¡æŠ€å·§ # è£…é¥°å™¨é‡Œåº”è¯¥åªæœ‰ä¸€å±‚æµ…æµ…çš„åŒ…è£…ä»£ç ï¼Œè¦æŠŠæ ¸å¿ƒé€»è¾‘æ”¾åœ¨å…¶ä»–å‡½æ•°ä¸ç±»ä¸­ã€‚\n","date":"2024-07-21","externalUrl":null,"permalink":"/booknote/python%E5%B7%A5%E5%8C%A0%E4%B8%8B/","section":"è¯»ä¹¦","summary":"","title":"ã€ŠPyhotnå·¥åŒ â€”â€”æ¡ˆä¾‹ã€æŠ€å·§ä¸å·¥ç¨‹å®è·µã€‹ï¼ˆä¸‹ï¼‰","type":"booknote"},{"content":"","date":"2024-07-21","externalUrl":null,"permalink":"/series/python%E5%B7%A5%E5%8C%A0/","section":"Series","summary":"","title":"ã€ŠPythonå·¥åŒ ã€‹","type":"series"},{"content":"","date":"2024-07-21","externalUrl":null,"permalink":"/tags/python/","section":"Tags","summary":"","title":"Python","type":"tags"},{"content":"","date":"2024-07-21","externalUrl":null,"permalink":"/tags/python-%E5%9B%BE%E4%B9%A6/","section":"Tags","summary":"","title":"Python å›¾ä¹¦","type":"tags"},{"content":"","date":"2024-07-21","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","date":"2024-07-21","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"","date":"2024-07-21","externalUrl":null,"permalink":"/booknote/","section":"è¯»ä¹¦","summary":"","title":"è¯»ä¹¦","type":"booknote"},{"content":"","date":"2024-07-21","externalUrl":null,"permalink":"/tags/%E6%8A%80%E6%9C%AF%E4%B9%A6%E7%B1%8D/","section":"Tags","summary":"","title":"æŠ€æœ¯ä¹¦ç±","type":"tags"},{"content":" é€‚åˆè¿›é˜¶ Pythonã€‚æœ¬ä¹¦ç±»ä¼¼ Python Cookbook æˆ–è€… Fluent Pythonï¼Œä½†æ˜¯æ›´åé‡å·¥ç¨‹å®è·µï¼Œä¸æ­¢äºæ¦‚å¿µ Tricks æœ¬èº«ï¼Œæ›´åœ¨ä¹å¦‚ä½•ç”¨è¿™äº›æŠ€æœ¯çš„æœ€ä½³å®è·µæ„å»ºå‡ºå¯é ã€ä¼˜é›…å’Œ Pythonic çš„å·¥ç¨‹ã€‚ç”±äºæ˜¯æ–°ä¹¦ï¼Œé‡Œé¢çš„æ¦‚å¿µè¿˜æ˜¯æ¯”è¾ƒæ–°ï¼Œtype hintsä¸mypyçš„ç±»å‹æ£€æŸ¥æ–¹æ¡ˆæ˜¯æœ‰çš„ï¼Œä½†æ˜¯ä¼¼ä¹æ²¡æœ‰å¯¹ PEP 585 è¿›è¡Œä¿®è®¢ã€‚\nâ€”â€” è±†ç“£ç½‘å‹@æ­§è·¯èŠ±ç« 2022-05-20 18:18:42\nç¬¬ 1 ç«  å˜é‡å’Œæ³¨é‡Š # åœ¨ä¸€æ®µä»£ç ä¸­ï¼Œå˜é‡å’Œæ³¨é‡Šæ˜¯æœ€æ¥è¿‘è‡ªç„¶è¯­è¨€çš„ä¸œè¥¿ã€‚å› æ­¤å¥½çš„å˜é‡åã€ç®€æ˜æ‰¼è¦çš„æ³¨é‡Šï¼Œéƒ½å¯ä»¥æ˜¾è‘—æé«˜ä»£ç çš„è´¨é‡ã€‚\nè¿™ä¸€ç« ä¸»è¦æ˜¯ä»‹ç»äº†å¸¸ç”¨çš„å˜é‡å‘½åçš„åŸåˆ™ï¼Œä»‹ç»äº†ç¼–ç¨‹å†™ä»£ç çš„æ³¨é‡Šçš„é›†ä¸­æ–¹å¼ã€‚\n1. å˜é‡çš„å‘½åä½¿ç”¨åŸåˆ™ # 1. æ˜Ÿå·è¡¨è¾¾å¼ # å¯ä»¥ä½¿ç”¨æ˜Ÿå·è¡¨è¾¾å¼ï¼ˆ*variablesï¼‰ä½œä¸ºå˜é‡åï¼Œä»–ä¾¿ä¼šè´ªå©ªåœ°æ•è·å¤šä¸ªå€¼å¯¹è±¡ï¼Œå¹¶å°†æ•è·åˆ°çš„å†…å®¹ä½œä¸ºåˆ—è¡¨èµ‹å€¼ç»™ variables ã€‚\nä¾‹å¦‚ï¼š\n\u0026gt;\u0026gt;\u0026gt; data = [\u0026#39;piglei\u0026#39;, \u0026#39;apple\u0026#39;, \u0026#39;orange\u0026#39;, \u0026#39;banana\u0026#39;, 100] \u0026gt;\u0026gt;\u0026gt; username, *fruits, score = data \u0026gt;\u0026gt;\u0026gt; username \u0026#39;piglei\u0026#39; \u0026gt;\u0026gt;\u0026gt; fruits [\u0026#39;apple\u0026#39;, \u0026#39;orange\u0026#39;, \u0026#39;banana\u0026#39;] \u0026gt;\u0026gt;\u0026gt; score 100 æœ‰æ—¶å€™å¯ä»¥é…åˆå•ä¸‹åˆ’çº¿ _ ä½¿ç”¨ï¼Œé€šå¸¸å¯ä»¥åœ¨æƒ³è¦å¿½è§†æŸäº›å˜é‡æ—¶å€™ä½¿ç”¨ï¼Œ\nä¾‹å¦‚ï¼š\n# å¿½ç•¥å±•å¼€æ—¶çš„ç¬¬äºŒä¸ªå˜é‡ \u0026gt;\u0026gt;\u0026gt; author, _ = usernames # å¿½ç•¥ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå˜é‡ä¹‹é—´çš„æ‰€æœ‰å˜é‡ \u0026gt;\u0026gt;\u0026gt; username, *_, score = data 2. ç»™å˜é‡æ³¨æ˜ç±»å‹ # å› ä¸º Python æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä½¿ç”¨å˜é‡æ—¶ä¸éœ€è¦åšä»»ä½•çš„ç±»å‹å£°æ˜ã€‚ä½†æ˜¯ä¸ºäº†ä»£ç çš„å¯è¯»æ€§ï¼Œè¿˜æ˜¯å»ºè®®ä½¿ç”¨ç±»å‹æ³¨è§£ï¼ˆPython3.5+ç‰ˆæœ¬ï¼‰ã€‚\nè¦ä½¿ç”¨ç±»å‹æ³¨è§£ï¼Œåªéœ€è¦åœ¨å˜é‡åæ·»åŠ ç±»å‹ï¼Œå¹¶ç”¨å†’å·éš”å¼€å³å¯ï¼Œæ¯”å¦‚ func(value: str) è¡¨ç¤ºå‡½æ•°çš„ value å‚æ•°ä¸ºå­—ç¬¦ä¸²ç±»å‹.\n3. å˜é‡å‘½ååŸåˆ™ # å˜é‡èµ·åè¦éµå¾ª PEP8 åŸåˆ™ã€‚\nå°½é‡ç»™å˜é‡èµ·æè¿°æ€§å¼ºçš„åå­—ï¼ŒåŒæ—¶å˜é‡åå°½é‡çŸ­ã€‚\nå…¶ä¸­æœ‰ä¸€ç±»è¶…çŸ­å‘½åï¼Œä½¿ç”¨ä¸€ä¸¤ä¸ªå­—æ¯æ¥å‘½åï¼Œä¸‹é¢æ˜¯ä¸€äº›çº¦å®šä¿—æˆçš„å˜é‡åå­—ï¼š\næ•°ç»„ç´¢å¼•ä¸‰å‰‘å®¢ iã€jã€k æŸä¸ªæ•´æ•° n æŸä¸ªå­—ç¬¦ä¸² s æŸä¸ªå¼‚å¸¸ e æ–‡ä»¶å¯¹è±¡ fp åŒä¸€æ®µä»£ç ä¸­å°½é‡é¿å…å¤šä¸ªç›¸ä¼¼çš„å˜é‡åï¼Œæ¯”å¦‚åŒæ—¶ä½¿ç”¨ usersï¼Œusers1ï¼Œuesrs2 è¿™ç§åºåˆ—ã€‚\n4. ä¿æŒå˜é‡çš„ä¸€è‡´æ€§ # ä½¿ç”¨å˜é‡æ—¶ï¼Œéœ€è¦ä¿è¯ä»–åœ¨ä¸¤æ–¹é¢çš„ä¸€è‡´æ€§ï¼Œåå­—ä¸€è‡´æ€§å’Œç±»å‹ä¸€è‡´æ€§ã€‚\nåå­—ä¸€è‡´æ€§æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªé¡¹ç›®ï¼ˆæˆ–è€…æ¨¡å—ã€å‡½æ•°ï¼‰ä¸­ï¼Œå¯¹ä¸€ç±»äº‹ç‰©çš„ç§°å‘¼ä¸è¦å˜æ¥å˜å»ã€‚\nç±»å‹ä¸€è‡´æ€§åˆ™æ˜¯æŒ‡ä¸è¦æŠŠåŒä¸€ä¸ªå˜é‡é‡å¤æŒ‡å‘ä¸åŒç±»å‹çš„å€¼ã€‚ä¸¾ä¾‹ï¼š\ndef foo(): # users æœ¬èº«æ˜¯ä¸€ä¸ª Dict users = {\u0026#39;data\u0026#39;: [\u0026#39;piglei\u0026#39;, \u0026#39;raymond\u0026#39;]} ... # users è¿™ä¸ªåå­—çœŸä¸é”™ï¼å°è¯•å¤ç”¨å®ƒï¼ŒæŠŠå®ƒå˜æˆ List ç±»å‹ users = [] ... åœ¨ foo() å‡½æ•°çš„ä½œç”¨åŸŸå†…ï¼Œusers å˜é‡è¢«ä½¿ç”¨äº†ä¸¤æ¬¡ï¼šç¬¬ä¸€æ¬¡æŒ‡å‘å­—å…¸ï¼Œç¬¬äºŒæ¬¡åˆ™å˜æˆäº†åˆ—è¡¨ã€‚\n2. æ³¨é‡Šçš„æ³¨æ„äº‹é¡¹ # 1. æ¥å£æ³¨é‡Š # åœ¨ç¼–å†™æ¥å£æ–‡æ¡£æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ç«™åœ¨å‡½æ•°è®¾è®¡è€…çš„è§’åº¦ï¼Œç€é‡æè¿°å‡½æ•°çš„åŠŸèƒ½ã€å‚æ•°è¯´æ˜ç­‰ã€‚\nè€Œå‡½æ•°è‡ªèº«çš„å®ç°ç»†èŠ‚â€”â€”æ¯”å¦‚è°ƒç”¨äº†å“ªä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ã€ä¸ºå•¥æœ‰æ€§èƒ½é—®é¢˜ç­‰ï¼Œéƒ½ä¸ç”¨æ”¾åœ¨æ¥å£æ–‡æ¡£é‡Œã€‚\nå¯¹äº resize_image() å‡½æ•°æ¥è¯´ï¼Œæ–‡æ¡£é‡Œæä¾›ä»¥ä¸‹å†…å®¹å°±è¶³å¤Ÿäº†ï¼š\ndef resize_image(image, size): \u0026#34;\u0026#34;\u0026#34;å°†å›¾ç‰‡ç¼©æ”¾ä¸ºæŒ‡å®šå°ºå¯¸ï¼Œå¹¶è¿”å›æ–°çš„å›¾ç‰‡ã€‚ æ³¨æ„ï¼šå½“æ–‡ä»¶è¶…è¿‡ 5MB æ—¶ï¼Œè¯·ä½¿ç”¨ resize_big_image() :param image: å›¾ç‰‡æ–‡ä»¶å¯¹è±¡ :param size: åŒ…å«å®½é«˜çš„å…ƒç»„ï¼šï¼ˆwidth, heightï¼‰ :return: æ–°å›¾ç‰‡å¯¹è±¡ \u0026#34;\u0026#34;\u0026#34; 2. ç©ºè¡Œä¹Ÿæ˜¯ä¸€ç§ â€œæ³¨é‡Šâ€ # åœ¨å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‚å½“çš„åœ¨ä»£ç ä¸­æ’å…¥ç©ºè¡Œï¼ŒæŠŠä»£ç æŒ‰ä¸åŒçš„é€»è¾‘å—åˆ†éš”å¼€æ¥ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆæé«˜ä»£ç å¯è¯»æ€§ã€‚\n3. å…ˆå†™æ³¨é‡Šï¼Œåå†™ä»£ç  # ä¸»è¦æ˜¯ä¸ºäº†é¿å…å†™å®Œä»£ç ä¹‹åï¼Œå¯¹å¾…æ³¨é‡Šè‰è‰åº”ä»˜äº†äº‹ã€‚\nç¬¬ 2 ç«  æ•°å€¼ä¸å­—ç¬¦ä¸² # è¿™ä¸€ç« ä¸»è¦æ˜¯ä»‹ç»äº† Python ä¸­æ•°å€¼çš„åŸºç¡€çŸ¥è¯†å’Œå­—ç¬¦ä¸²çš„ä½¿ç”¨æŠ€å·§ã€‚\n1. æ•°å€¼çš„åŸºç¡€çŸ¥è¯† # 1. decimal æ¨¡å— # Python çš„æµ®ç‚¹æ•°æœ‰ç²¾åº¦é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ decimal.Decimal å¯¹è±¡æ¥ä»£æ›¿æ™®é€šæµ®ç‚¹æ•°ï¼Œåšç²¾ç¡®è®¡ç®—ã€‚ä¾‹å¦‚ï¼š\n\u0026gt;\u0026gt;\u0026gt; from decimal import Decimal # æ³¨æ„ï¼šè¿™é‡Œçš„\u0026#39;0.1\u0026#39;å’Œ\u0026#39;0.2\u0026#39; å¿…é¡»æ˜¯å­—ç¬¦ä¸² \u0026gt;\u0026gt;\u0026gt; Decimal(\u0026#39;0.1\u0026#39;) + Decimal(\u0026#39;0.2\u0026#39;) Decimal(\u0026#39;0.3\u0026#39;) åœ¨ä½¿ç”¨ Decimal çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„ï¼šå¿…é¡»ä½¿ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºæ•°å­—ã€‚ 2. å­—ç¬¦ä¸²çš„ä½¿ç”¨ # 1. å­—ç¬¦ä¸²çš„å†…ç½®æ–¹æ³• # è®°å½•äº†å­—ç¬¦ä¸²ä¸­å¸¸ç”¨å’Œä¸å¸¸ç”¨çš„æ–¹æ³•ï¼š\nreversedï¼Œåè½¬å­—ç¬¦ä¸² \u0026gt;\u0026gt;\u0026gt; s = \u0026#39;Hello, world!\u0026#39; \u0026gt;\u0026gt;\u0026gt; \u0026#39;\u0026#39;.join(reversed(s)) \u0026#39;!dlrow ,olleH\u0026#39; reversed ä¼šè¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œé€šè¿‡å­—ç¬¦ä¸²çš„ .join æ–¹æ³•å¯ä»¥å°†å®ƒè½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚\n.startswith()ï¼Œæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å§‹ã€‚å®ƒè¿”å›å¸ƒå°”å€¼ True æˆ– Falseã€‚ text = \u0026#34;Hello, world!\u0026#34; print(text.startswith(\u0026#34;Hello\u0026#34;)) # è¾“å‡º: True print(text.startswith(\u0026#34;world\u0026#34;)) # è¾“å‡º: False .partation()ï¼Œç”¨äºåœ¨ç¬¬ä¸€æ¬¡å‡ºç°æŒ‡å®š åˆ†éš”ç¬¦ çš„ä½ç½®å°†å­—ç¬¦ä¸²åˆ†æˆä¸‰éƒ¨åˆ†ï¼š\nåˆ†éš”ç¬¦å‰çš„éƒ¨åˆ†ã€åˆ†éš”ç¬¦æœ¬èº«ã€å’Œåˆ†éš”ç¬¦åçš„éƒ¨åˆ†ã€‚å®ƒè¿”å›ä¸€ä¸ªåŒ…å«è¿™ä¸‰éƒ¨åˆ†çš„å…ƒç»„ã€‚ text = \u0026#34;Hello, world!\u0026#34; result = text.partition(\u0026#34;, \u0026#34;) print(result) # è¾“å‡º: (\u0026#39;Hello\u0026#39;, \u0026#39;, \u0026#39;, \u0026#39;world!\u0026#39;) å’Œ .split() çš„åŒºåˆ«ï¼Œ.partition() è¿”å›äº†ä¸€ä¸ªä¸‰å…ƒç´ çš„å…ƒç»„ï¼Œè€Œ .split() è¿”å›äº†ä¸€ä¸ªåˆ—è¡¨ï¼Œå¹¶ä¸”åˆ—è¡¨ä¸­ä¸åŒ…å«åˆ†éš”ç¬¦ã€‚\n.translate(table)ï¼ŒæŒ‰è§„åˆ™ä¸€æ¬¡æ€§æ›¿æ¢å¤šä¸ªå­—ç¬¦ï¼Œä½¿ç”¨å®ƒæ¯”è°ƒç”¨å¤šæ¬¡ replace æ–¹æ³•æ›´å¿«ä¹Ÿæ›´ç®€å•ã€‚ \u0026gt;\u0026gt;\u0026gt; s = \u0026#39;æ˜æ˜æ˜¯ä¸­æ–‡,å´ä½¿ç”¨äº†è‹±æ–‡æ ‡ç‚¹.\u0026#39; # åˆ›å»ºæ›¿æ¢è§„åˆ™è¡¨ï¼š\u0026#39;,\u0026#39; -\u0026gt; \u0026#39;ï¼Œ\u0026#39;, \u0026#39;.\u0026#39; -\u0026gt; \u0026#39;ã€‚\u0026#39; \u0026gt;\u0026gt;\u0026gt; table = s.maketrans(\u0026#39;,.\u0026#39;, \u0026#39;ï¼Œã€‚\u0026#39;) \u0026gt;\u0026gt;\u0026gt; s.translate(table) \u0026#39;æ˜æ˜æ˜¯ä¸­æ–‡ï¼Œå´ä½¿ç”¨äº†è‹±æ–‡æ ‡ç‚¹ã€‚\u0026#39; .rsplit()ï¼Œå°±æ˜¯ split() çš„é•œåƒâ€œé€†åºâ€æ–¹æ³•ã€‚ #ä»å³å¾€å·¦åˆ‡å‰²ï¼ŒNoneè¡¨ç¤ºä»¥æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦ä¸²åˆ‡å‰² \u0026gt;\u0026gt;\u0026gt; log_line.rsplit(None, maxsplit=1) [\u0026#39;\u0026#34;AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36\u0026#34;\u0026#39;, \u0026#39;47632\u0026#39;] 2. å­—ç¬¦ä¸²æ ¼å¼åŒ– # æ¨èä½¿ç”¨ f-string å­—ç¬¦ä¸²æ ¼å¼åŒ–ã€‚\nusername, score = \u0026#39;piglei\u0026#39;, 100 # f-stringï¼Œæœ€çŸ­æœ€ç›´è§‚ print(f\u0026#39;Welcome {username}, your score is {score:d}\u0026#39;) # è¾“å‡ºï¼š # Welcome piglei, your score is 100 3. Jinja2 æ¨¡æ¿å¤„ç†å­—ç¬¦ä¸² # Jinja2 æ˜¯ä¸€ä¸ªç”¨äº Python çš„æ¨¡æ¿å¼•æ“ï¼Œå¯ä»¥ç”¨æ¥ç”ŸæˆåŠ¨æ€å†…å®¹ã€‚å®ƒé€šè¿‡åœ¨æ¨¡æ¿ä¸­åµŒå…¥å˜é‡å’Œæ§åˆ¶ç»“æ„ï¼ˆå¦‚å¾ªç¯å’Œæ¡ä»¶ï¼‰æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚\nfrom jinja2 import Template _MOVIES_TMPL = \u0026#39;\u0026#39;\u0026#39;\\ Welcome, {{username}}. {%for name, rating in movies %} * {{ name }}, Rating: {{ rating|default(\u0026#34;[NOT RATED]\u0026#34;, True) }} {%- endfor %} è¿™ä¸ªå­—ç¬¦ä¸² _MOVIES_TMPL æ˜¯ä¸€ä¸ª Jinja2 æ¨¡æ¿ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š\n{{username}} æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå°†è¢«ä¼ å…¥çš„ username å˜é‡æ›¿æ¢ã€‚ {%for name, rating in movies %}\u0026hellip;{% endfor %} æ˜¯ä¸€ä¸ªå¾ªç¯ç»“æ„ï¼Œç”¨äºéå†ä¼ å…¥çš„ movies åˆ—è¡¨ã€‚ {{ name }} æ˜¯æ¯éƒ¨ç”µå½±çš„åå­—ï¼Œå ä½ç¬¦å°†è¢«ç”µå½±çš„åå­—æ›¿æ¢ã€‚ {{ rating|default(\u0026quot;[NOT RATED]\u0026quot;, True) }} æ˜¯ç”µå½±çš„è¯„åˆ†ï¼Œå ä½ç¬¦å°†è¢«ç”µå½±çš„è¯„åˆ†æ›¿æ¢ã€‚å¦‚æœè¯„åˆ†ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ [NOT RATED]ã€‚ 3. timeit æ¨¡å—æµ‹è¯•æ€§èƒ½ # Pythonæœ‰ä¸€ä¸ªå†…ç½®æ¨¡å—timeitï¼Œåˆ©ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿åœ°æµ‹è¯•ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚\né¦–å…ˆï¼Œå®šä¹‰éœ€è¦æµ‹è¯•çš„ä¸¤ä¸ªå‡½æ•°ï¼š\n#å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º 100çš„è¯æ±‡åˆ—è¡¨ WORDS = [\u0026#39;Hello\u0026#39;, \u0026#39;string\u0026#39;, \u0026#39;performance\u0026#39;, \u0026#39;test\u0026#39;] * 25 def str_cat(): \u0026#34;\u0026#34;\u0026#34;ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥\u0026#34;\u0026#34;\u0026#34; s = \u0026#39;\u0026#39; for word in WORDS: s += word return s def str_join(): \u0026#34;\u0026#34;\u0026#34;ä½¿ç”¨åˆ—è¡¨é…åˆ join äº§ç”Ÿå­—ç¬¦ä¸²\u0026#34;\u0026#34;\u0026#34; l = [] for word in WORDS: l.append(word) return \u0026#39;\u0026#39;.join(l) ç„¶åï¼Œå¯¼å…¥timeitæ¨¡å—ï¼Œå®šä¹‰æ€§èƒ½æµ‹è¯•ï¼š\nimport timeit # é»˜è®¤æ‰§è¡Œ 100 ä¸‡æ¬¡ cat_spent = timeit.timeit(setup=\u0026#39;from __main__import str_cat\u0026#39;, stmt=\u0026#39;str_cat()\u0026#39;) print(\u0026#34;cat_spent:\u0026#34;, cat_spent) join_spent = timeit.timeit(setup=\u0026#39;from __main__import str_join\u0026#39;, stmt=\u0026#39;str_join()\u0026#39;) print(\u0026#34;join_spent\u0026#34;, join_spent) # è¾“å‡º # cat_spent: 7.844882188 # join_spent 7.310863505 ç¬¬ 3 ç«  å®¹å™¨ç±»å‹ # è®²è§£äº†å››ç§å®¹å™¨ç±»å‹ï¼Œåˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—å…¸ï¼Œé›†åˆã€‚åŒæ—¶ä»‹ç»äº†å¯¹è±¡çš„å¯å˜æ€§ã€å¯å“ˆå¸Œæ€§ç­‰æ¦‚å¿µã€‚\n1. åˆ—è¡¨ # è¿™é‡Œä¸»è¦è®°å½•åˆ—è¡¨çš„æ€§èƒ½é™·é˜±\n1. æ’å…¥æ•°æ® # å¦‚æœè¦åœ¨å¤´éƒ¨æ’å…¥æ•°æ®ï¼Œä½¿ç”¨ .insert() å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼ˆå°¾éƒ¨æ’å…¥æ•°æ®ä½¿ç”¨ .append() å¹³å‡å¤æ‚åº¦æ˜¯ O(1)ï¼‰ã€‚\nå¦‚æœéœ€è¦å¾€åˆ—è¡¨å¤´éƒ¨æ’å…¥æ•°æ®ï¼Œä½¿ç”¨ collections.deque ç±»å‹æ¥æ›¿ä»£åˆ—è¡¨ï¼ˆä»£ç å¦‚ä¸‹ï¼‰ã€‚å› ä¸º deque åº•å±‚ä½¿ç”¨äº†åŒç«¯é˜Ÿåˆ—ï¼Œæ— è®ºåœ¨å¤´éƒ¨è¿˜æ˜¯å°¾éƒ¨è¿½åŠ æˆå‘˜ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ Oï¼ˆ1ï¼‰ã€‚\nfrom collections import deque def deque_append(): \u0026#34;\u0026#34;\u0026#34;ä¸æ–­å¾€å°¾éƒ¨è¿½åŠ \u0026#34;\u0026#34;\u0026#34; l = deque() for i in range(5000): l.append(i) def deque_appendleft(): \u0026#34;\u0026#34;\u0026#34;ä¸æ–­å¾€å¤´éƒ¨æ’å…¥\u0026#34;\u0026#34;\u0026#34; l = deque() for i in range(5000): l.appendleft(i) # timeit æ€§èƒ½æµ‹è¯•ä»£ç å·²çœç•¥ # deque_append: 3.739269677 # deque_appendleft 3.7188512409999994 2. åˆ¤æ–­æˆå‘˜æ˜¯å¦å­˜åœ¨ # è¦åˆ¤æ–­æŸä¸ªå®¹å™¨æ˜¯å¦åŒ…å«ç‰¹å®šæˆå‘˜ï¼Œç”¨é›†åˆæ¯”ç”¨åˆ—è¡¨æ›´åˆé€‚ã€‚\nå®Œæˆè¿™ç§æ“ä½œéœ€è¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆ1ï¼‰ã€‚\nå¦‚æœä»£ç éœ€è¦è¿›è¡Œ in åˆ¤æ–­ï¼Œå¯ä»¥è€ƒè™‘æŠŠç›®æ ‡å®¹å™¨è½¬æ¢æˆé›†åˆç±»å‹ï¼Œä½œä¸ºæŸ¥æ‰¾æ—¶çš„ç´¢å¼•ä½¿ç”¨ï¼š\n#æ³¨æ„ï¼šè¿™é‡Œçš„ç¤ºä¾‹åˆ—è¡¨å¾ˆçŸ­ï¼Œæ‰€ä»¥è½¬ä¸è½¬é›†åˆå¯¹æ€§èƒ½çš„å½±å“å¯èƒ½å¾®ä¹å…¶å¾® # åœ¨å®é™…ç¼–ç æ—¶ï¼Œåˆ—è¡¨è¶Šé•¿ã€æ‰§è¡Œçš„åˆ¤æ–­æ¬¡æ•°è¶Šå¤šï¼Œè½¬æˆé›†åˆçš„æ”¶ç›Šå°±è¶Šé«˜ VALID_NAMES = [\u0026#34;piglei\u0026#34;, \u0026#34;raymond\u0026#34;, \u0026#34;bojack\u0026#34;, \u0026#34;caroline\u0026#34;] # è½¬æ¢ä¸ºé›†åˆç±»å‹ä¸“é—¨ç”¨äºæˆå‘˜åˆ¤æ–­ VALID_NAMES_SET = set(VALID_NAMES) def validate_name(name): if name not in VALID_NAMES_SET: raise ValueError(f\u0026#34;{name} is not a valid name!\u0026#34;) è¿™æ ·çš„è¯ä¸€æ¬¡è½¬æ¢æˆé›†åˆ Oï¼ˆnï¼‰ä¹‹åï¼Œåé¢æŸ¥æ‰¾éƒ½å¯ä»¥åœ¨ Oï¼ˆ1ï¼‰å†…ã€‚\n2. å…ƒç»„ # 1. å­˜æ”¾ç»“æ„åŒ–æ•°æ® # å’Œåˆ—è¡¨ä¸åŒï¼Œåœ¨åŒä¸€ä¸ªå…ƒç»„é‡Œå¯ä»¥å‡ºç°ä¸åŒç±»å‹çš„å€¼ï¼Œå› æ­¤å…ƒç»„ç»å¸¸ç”¨æ¥å­˜æ”¾ç»“æ„åŒ–æ•°æ®ã€‚\n\u0026gt;\u0026gt;\u0026gt; user_info = (\u0026#39;piglei\u0026#39;, \u0026#39;MALE\u0026#39;, 30, True) \u0026gt;\u0026gt;\u0026gt; user_info[2] 30 2. å…·åæ•°ç»„ # å…·åå…ƒç»„ï¼ˆnamedtupleï¼‰ã€‚å…·åå…ƒç»„åœ¨ä¿ç•™æ™®é€šå…ƒç»„åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œå…è®¸ä¸ºå…ƒç»„çš„æ¯ä¸ªæˆå‘˜å‘½åï¼Œè¿™æ ·ä½ ä¾¿èƒ½é€šè¿‡åç§°è€Œä¸æ­¢æ˜¯æ•°å­—ç´¢å¼•è®¿é—®æˆå‘˜ã€‚ï¼ˆç»“æ„åŒ–æ•°æ®ï¼‰\nç”¨åˆ° namedtuple() å‡½æ•°åˆ›å»ºå…·åæ•°ç»„ï¼š\nfrom collections import namedtuple Rectangle = namedtuple(\u0026#39;Rectangle\u0026#39;, \u0026#39;width, height\u0026#39;) rect = Rectangle(100, 20) rect = Rectangle(width=100, height=20) print(rect[0]) # 100 print(rect.width) # 100 ã€æ¨èã€‘åœ¨Python 3.6ç‰ˆæœ¬ä»¥åï¼Œé™¤äº†ä½¿ç”¨ namedtuple() å‡½æ•°ä»¥å¤–ï¼Œä½ è¿˜å¯ä»¥ç”¨ typing.NamedTuple å’Œç±»å‹æ³¨è§£è¯­æ³•æ¥å®šä¹‰å…·åå…ƒç»„ç±»å‹ã€‚\nå¦å¤–å¯¹äºè¿™ç§æœªæ¥å¯èƒ½ä¼šå˜åŠ¨çš„å¤šè¿”å›å€¼å‡½æ•°æ¥è¯´ï¼Œå¦‚æœä¸€å¼€å§‹å°±ä½¿ç”¨ NamedTuple ç±»å‹å¯¹è¿”å›ç»“æœè¿›è¡Œå»ºæ¨¡ï¼Œåé¢æ”¹åŠ¨ä¼šå˜å¾—ç®€å•è®¸å¤š:\nclass Rectangle(NamedTuple): width: int height: int rect = Rectangle(100, 20) 3. å­—å…¸ # 1. è®¿é—®ä¸å­˜åœ¨çš„ Key # å½“ç”¨ä¸å­˜åœ¨çš„é”®è®¿é—®å­—å…¸å†…å®¹æ—¶ï¼Œç¨‹åºä¼šæŠ›å‡º KeyError å¼‚å¸¸ã€‚\ntry: rating = movie[\u0026#39;rating\u0026#39;] except KeyError: rating = 0 2. å¿«é€Ÿåˆå¹¶å­—å…¸ # åœ¨ä¸æ”¹å˜åŸå­—å…¸å†…å®¹çš„å‰æä¸‹ï¼Œé‡‡ç”¨åŒæ˜Ÿå· ** è¿ç®—ç¬¦æ¥åšè§£åŒ…æ“ä½œã€‚åœ¨å­—å…¸ä¸­ä½¿ç”¨ **dict_obj è¡¨è¾¾å¼ï¼Œå¯ä»¥åŠ¨æ€è§£åŒ… dict_obj å­—å…¸çš„æ‰€æœ‰å†…å®¹ï¼Œå¹¶ä¸å½“å‰å­—å…¸åˆå¹¶ï¼š\nè§£åŒ…è¿‡ç¨‹ä¼šé»˜è®¤è¿›è¡Œ æµ…æ‹·è´æ“ä½œã€‚\n\u0026gt;\u0026gt;\u0026gt; d1 = {\u0026#39;name\u0026#39;: \u0026#39;apple\u0026#39;} \u0026gt;\u0026gt;\u0026gt; d2 = {\u0026#39;price\u0026#39;: 10} # d1ã€d2 åŸå§‹å€¼ä¸ä¼šå—å½±å“ \u0026gt;\u0026gt;\u0026gt; {**d1, **d2} {\u0026#39;name\u0026#39;: \u0026#39;apple\u0026#39;, \u0026#39;price\u0026#39;: 10} 4. é›†åˆ # é›†åˆåªèƒ½å­˜æ”¾ å¯å“ˆå¸Œçš„å¯¹è±¡ã€‚\n5. å¯¹è±¡çš„å¯å˜æ€§ # Pythoné‡Œçš„å†…ç½®æ•°æ®ç±»å‹ï¼Œå¤§è‡´ä¸Šå¯åˆ†ä¸ºå¯å˜ä¸ä¸å¯å˜ä¸¤ç§ã€‚\nå¯å˜ï¼ˆmutableï¼‰ï¼šåˆ—è¡¨ã€å­—å…¸ã€é›†åˆã€‚ ä¸å¯å˜ï¼ˆimmutableï¼‰ï¼šæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ã€å­—èŠ‚ä¸²ã€å…ƒç»„ã€‚ ä¸€ä¸ªæœ€å¸¸è§çš„åœºæ™¯â€œå‡½æ•°è°ƒç”¨â€:\nåœ¨å¯¹å­—ç¬¦ä¸²è¿›è¡Œ += æ“ä½œæ—¶ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜ç±»å‹ï¼Œæ‰€ä»¥ç¨‹åºä¼šç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆå€¼ï¼‰ï¼š\u0026lsquo;foo suffix\u0026rsquo;ï¼Œå¹¶è®© in_func_obj å˜é‡æŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ï¼›æ—§å€¼ï¼ˆåŸå§‹å˜é‡orig_objæŒ‡å‘çš„å¯¹è±¡ï¼‰åˆ™ä¸å—ä»»ä½•å½±å“ã€‚\nå¯¹å­—ç¬¦ä¸²å¯¹è±¡æ‰§è¡Œ+=æ“ä½œ å¦‚æœå¯¹è±¡æ˜¯å¯å˜çš„ï¼ˆæ¯”å¦‚åˆ—è¡¨ï¼‰ï¼Œ+= æ“ä½œå°±ä¼šç›´æ¥åŸåœ°ä¿®æ”¹ in_func_obj å˜é‡æ‰€æŒ‡å‘çš„å€¼ï¼Œè€Œå®ƒåŒæ—¶ä¹Ÿæ˜¯åŸå§‹å˜é‡ orig_obj æ‰€æŒ‡å‘çš„å†…å®¹ï¼›å¾…ä¿®æ”¹å®Œæˆåï¼Œä¸¤ä¸ªå˜é‡æ‰€æŒ‡å‘çš„å€¼ï¼ˆåŒä¸€ä¸ªï¼‰è‚¯å®šå°±éƒ½å—åˆ°äº†å½±å“ã€‚\nå¯¹åˆ—è¡¨å¯¹è±¡æ‰§è¡Œ+=æ“ä½œ 6. æ·±æ‹·è´ä¸æµ…æ‹·è´ # å‡å¦‚æˆ‘ä»¬æƒ³è®©ä¸¤ä¸ªå˜é‡ï¼ˆå¯å˜çš„ï¼‰çš„ä¿®æ”¹æ“ä½œäº’ä¸å½±å“ï¼Œå°±éœ€è¦æ‹·è´å˜é‡æ‰€æŒ‡å‘çš„å¯å˜å¯¹è±¡ï¼Œåšåˆ°è®©ä¸åŒå˜é‡æŒ‡å‘ä¸åŒå¯¹è±¡ã€‚\næŒ‰æ‹·è´çš„æ·±åº¦ï¼Œå¸¸ç”¨çš„æ‹·è´æ“ä½œå¯åˆ†ä¸ºä¸¤ç§ï¼šæµ…æ‹·è´ä¸æ·±æ‹·è´ã€‚\n1. æµ…æ‹·è´ # ä½¿ç”¨copyæ¨¡å—ä¸‹çš„ copy() æ–¹æ³• \u0026gt;\u0026gt;\u0026gt; import copy \u0026gt;\u0026gt;\u0026gt; nums_copy = copy.copy(nums) \u0026gt;\u0026gt;\u0026gt; nums[2] = 30 # ä¿®æ”¹ä¸å†ç›¸äº’å½±å“ \u0026gt;\u0026gt;\u0026gt; nums, nums_copy ([1, 2, 30, 4], [1, 2, 3, 4]) ä½¿ç”¨å„å®¹å™¨ç±»å‹çš„å†…ç½®æ„é€ å‡½æ•° \u0026gt;\u0026gt;\u0026gt; d2 = dict(d.items()) \u0026gt;\u0026gt;\u0026gt; nums_copy = list(nums) è¿›è¡Œå…¨åˆ‡ç‰‡ #nums_copyä¼šå˜æˆ numsçš„æµ…æ‹·è´ \u0026gt;\u0026gt;\u0026gt; nums_copy = nums[:] æœ‰äº›ç±»å‹è‡ªèº«å°±æä¾›äº†æµ…æ‹·è´æ–¹æ³• #åˆ—è¡¨æœ‰ copyæ–¹æ³• \u0026gt;\u0026gt;\u0026gt; num = [1, 2, 3, 4] \u0026gt;\u0026gt;\u0026gt; nums.copy() [1, 2, 3, 4] # å­—å…¸ä¹Ÿæœ‰ copy æ–¹æ³• \u0026gt;\u0026gt;\u0026gt; d = {\u0026#39;foo\u0026#39;: \u0026#39;bar\u0026#39;} \u0026gt;\u0026gt;\u0026gt; d.copy() {\u0026#39;foo\u0026#39;: \u0026#39;bar\u0026#39;} 2. æ·±æ‹·è´ # ä½†å¯¹äºä¸€äº›å±‚å±‚åµŒå¥—çš„å¤æ‚æ•°æ®æ¥è¯´ï¼Œæµ…æ‹·è´ä»ç„¶æ— æ³•è§£å†³åµŒå¥—å¯¹è±¡è¢«ä¿®æ”¹çš„é—®é¢˜ã€‚\nå¯ä»¥ç”¨ copy.deepcopy() å‡½æ•°æ¥è¿›è¡Œæ·±æ‹·è´æ“ä½œ\n\u0026gt;\u0026gt;\u0026gt; items = [1, [\u0026#39;foo\u0026#39;, \u0026#39;bar\u0026#39;], 2, 3] \u0026gt;\u0026gt;\u0026gt; items_deep = copy.deepcopy(items) 7. å¯¹è±¡çš„å¯å“ˆå¸Œæ€§ # è®¡ç®—å“ˆå¸Œå€¼çš„è¿‡ç¨‹ï¼Œæ˜¯é€šè¿‡è°ƒç”¨å†…ç½®å‡½æ•°hash(obj)å®Œæˆçš„ã€‚å¦‚æœå¯¹è±¡æ˜¯å¯å“ˆå¸Œçš„ï¼Œhashå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæ•´å‹ç»“æœï¼Œå¦åˆ™å°†ä¼šæŠ¥ TypeError é”™è¯¯ã€‚\næŸç§ç±»å‹æ˜¯å¦å¯å“ˆå¸Œéµå¾ªä¸‹é¢çš„è§„åˆ™ï¼š\næ‰€æœ‰çš„ä¸å¯å˜å†…ç½®ç±»å‹ï¼Œéƒ½æ˜¯å¯å“ˆå¸Œçš„ï¼Œæ¯”å¦‚strã€intã€tupleã€frozensetç­‰ï¼› æ‰€æœ‰çš„å¯å˜å†…ç½®ç±»å‹ï¼Œéƒ½æ˜¯ä¸å¯å“ˆå¸Œçš„ï¼Œæ¯”å¦‚dictã€listï¼Œsetç­‰ï¼› å¯¹äºä¸å¯å˜å®¹å™¨ç±»å‹(tuple, frozenset)ï¼Œä»…å½“å®ƒçš„æ‰€æœ‰æˆå‘˜éƒ½ä¸å¯å˜æ—¶ï¼Œå®ƒè‡ªèº«æ‰æ˜¯å¯å“ˆå¸Œçš„ï¼› ç”¨æˆ·å®šä¹‰çš„ç±»å‹é»˜è®¤éƒ½æ˜¯å¯å“ˆå¸Œçš„ã€‚è°¨è®°ï¼Œåªæœ‰å¯å“ˆå¸Œçš„å¯¹è±¡ï¼Œæ‰èƒ½æ”¾è¿›é›†åˆæˆ–ä½œä¸ºå­—å…¸çš„é”®ä½¿ç”¨ã€‚ åªæœ‰å¯å“ˆå¸Œçš„å¯¹è±¡ï¼Œæ‰èƒ½æ”¾è¿›é›†åˆæˆ–ä½œä¸ºå­—å…¸çš„é”®ä½¿ç”¨ã€‚ 8. ç”Ÿæˆå™¨ # ç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰æ˜¯Pythoné‡Œçš„ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç±»å‹ã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸æ–­ç»™è°ƒç”¨æ–¹â€œç”Ÿæˆâ€å†…å®¹çš„ç±»å‹ã€‚å®šä¹‰ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œéœ€è¦ç”¨åˆ°ç”Ÿæˆå™¨å‡½æ•°ä¸ yield å…³é”®å­—ã€‚\ndef generate_even(max_number): \u0026#34;\u0026#34;\u0026#34;ä¸€ä¸ªç®€å•ç”Ÿæˆå™¨ï¼Œè¿”å› 0 åˆ° max_number ä¹‹é—´çš„æ‰€æœ‰å¶æ•°\u0026#34;\u0026#34;\u0026#34; for i in range(0, max_number): if i % 2 == 0: yield i for i in generate_even(10): print(i) yield å’Œ return çš„æœ€å¤§ä¸åŒä¹‹å¤„åœ¨äºï¼Œreturn çš„è¿”å›æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä½¿ç”¨å®ƒä¼šç›´æ¥ä¸­æ–­æ•´ä¸ªå‡½æ•°æ‰§è¡Œï¼Œè€Œ yield å¯ä»¥é€æ­¥ç»™è°ƒç”¨æ–¹ç”Ÿæˆç»“æœï¼š\n(å…¶å®å¯ä»¥æŠŠç”Ÿæˆå™¨è¿”å›çš„å€¼æƒ³è±¡æˆä¸€ä¸ªå¯ä»¥è¿­ä»£çš„ listï¼Œéœ€è¦è¿­ä»£å¾—å‡ºã€‚)\n\u0026gt;\u0026gt;\u0026gt; i = generate_even(10) \u0026gt;\u0026gt;\u0026gt; next(i) 0 \u0026gt;\u0026gt;\u0026gt; next(i) 2 è°ƒç”¨ next()å¯ä»¥é€æ­¥ä»ç”Ÿæˆå™¨å¯¹è±¡é‡Œæ‹¿åˆ°ç»“æœã€‚\nå› ä¸ºç”Ÿæˆå™¨æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨list()ç­‰å‡½æ•°æ–¹ä¾¿åœ°æŠŠå®ƒè½¬æ¢ä¸ºå„ç§å…¶ä»–å®¹å™¨ç±»å‹ï¼š\n\u0026gt;\u0026gt;\u0026gt; list(generate_even(10)) [0, 2, 4, 6, 8] ç¬¬ 4 ç«  æ¡ä»¶åˆ†æ”¯æ§åˆ¶æµ # 1. åˆ†æ”¯æƒ¯ç”¨å†™æ³• # 1. ä¸è¦æ˜¾å¼åœ°å’Œå¸ƒå°”å€¼åšæ¯”è¾ƒ # #ä¸æ¨èçš„å†™æ³• # if user.is_active_member() == True: # æ¨èå†™æ³• if user.is_active_member(): 2. çœç•¥é›¶å€¼åˆ¤æ–­ # å½“æˆ‘ä»¬éœ€è¦åœ¨æ¡ä»¶è¯­å¥é‡Œåšç©ºå€¼åˆ¤æ–­æ—¶ï¼Œå¯ä»¥ç›´æ¥æŠŠä»£ç ç®€å†™æˆä¸‹é¢è¿™æ ·ï¼š\nif not containers_count: ... if fruits_list: ... Â· å¸ƒå°”å€¼ä¸ºå‡ï¼šNoneã€0ã€Falseã€[]ã€()ã€{}ã€set()ã€frozenset()ï¼Œç­‰ç­‰ã€‚\nÂ· å¸ƒå°”å€¼ä¸ºçœŸï¼šé0çš„æ•°å€¼ã€Trueï¼Œéç©ºçš„åºåˆ—ã€å…ƒç»„ã€å­—å…¸ï¼Œç”¨æˆ·å®šä¹‰çš„ç±»å’Œå®ä¾‹ï¼Œç­‰ç­‰ã€‚\n3. ä¸Noneæ¯”è¾ƒæ—¶ä½¿ç”¨isè¿ç®—ç¬¦* # å½“ä½ éœ€è¦åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ Noneã€Trueã€Falseæ—¶ï¼Œä½¿ç”¨ is ï¼Œå…¶ä»–æƒ…å†µä¸‹ï¼Œè¯·ä½¿ç”¨ ==ã€‚\n2. å¸¸ç”¨å‡½æ•°ä¼˜åŒ–åˆ†æ”¯ # 1. ä½¿ç”¨bisectä¼˜åŒ–èŒƒå›´ç±»åˆ†æ”¯åˆ¤æ–­ # å½“åœ¨æ¯ä¸ª if/elif è¯­å¥åï¼Œéƒ½è·Ÿç€ä¸€ä¸ªåˆ†ç•Œç‚¹æ—¶ï¼Œ\nbisect æ˜¯ Python å†…ç½®çš„äºŒåˆ†ç®—æ³•æ¨¡å—ï¼Œå®ƒæœ‰ä¸€ä¸ªåŒåå‡½æ•° bisectï¼Œå¯ä»¥ç”¨æ¥åœ¨æœ‰åºåˆ—è¡¨é‡ŒåšäºŒåˆ†æŸ¥æ‰¾ã€‚\n\u0026gt;\u0026gt;\u0026gt; import bisect # æ³¨æ„ï¼šç”¨æ¥åšäºŒåˆ†æŸ¥æ‰¾çš„å®¹å™¨å¿…é¡»æ˜¯å·²ç»æ’å¥½åºçš„ \u0026gt;\u0026gt;\u0026gt; breakpoints = [10, 20, 30] # bisect å‡½æ•°ä¼šè¿”å›å€¼åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œ0 ä»£è¡¨ç›¸åº”çš„å€¼ä½äºç¬¬ä¸€ä¸ªå…ƒç´  10 ä¹‹å‰ \u0026gt;\u0026gt;\u0026gt; bisect.bisect(breakpoints, 1) 0 # 3 ä»£è¡¨ç›¸åº”çš„å€¼ä½äºç¬¬ä¸‰ä¸ªå…ƒç´  30 ä¹‹å \u0026gt;\u0026gt;\u0026gt; bisect.bisect(breakpoints, 35) 3 2. all()/any() å‡½æ•° # all() å’Œ any()ã€‚è¿™ä¸¤ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ç»“æœã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°çš„è¡Œä¸ºå¦‚ä¸‹ã€‚\nall(iterable)ï¼šä»…å½“iterableä¸­æ‰€æœ‰æˆå‘˜çš„å¸ƒå°”å€¼éƒ½ä¸ºçœŸæ—¶è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ any(iterable)ï¼šåªè¦iterableä¸­ä»»ä½•ä¸€ä¸ªæˆå‘˜çš„å¸ƒå°”å€¼ä¸ºçœŸå°±è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ def all_numbers_gt_10_2(numbers): return bool(numbers) and all(n \u0026gt; 10 for n in numbers) 3. å…¶ä»–æŠ€å·§ # 1. è¦ç«­å°½æ‰€èƒ½åœ°é¿å…åˆ†æ”¯åµŒå¥— # ç”¨ä¸€ä¸ªç®€å•çš„æŠ€å·§æ¥ä¼˜åŒ–â€”â€”â€œæå‰è¿”å›â€ã€‚\nâ€œæå‰è¿”å›â€æŒ‡çš„æ˜¯ï¼šå½“ä½ åœ¨ç¼–å†™åˆ†æ”¯æ—¶ï¼Œé¦–å…ˆæ‰¾åˆ°é‚£äº›ä¼šä¸­æ–­æ‰§è¡Œçš„æ¡ä»¶ï¼ŒæŠŠå®ƒä»¬ç§»åˆ°å‡½æ•°çš„æœ€å‰é¢ï¼Œç„¶ååœ¨åˆ†æ”¯é‡Œç›´æ¥ä½¿ç”¨ return æˆ– raise ç»“æŸæ‰§è¡Œã€‚\n2. å¾·æ‘©æ ¹å®šå¾‹ # å¾·æ‘©æ ¹å®šå¾‹â€å‘Šè¯‰äº†æˆ‘ä»¬è¿™ä¹ˆä¸€ä»¶äº‹ï¼š\nnot A or not Bç­‰ä»·äºnot (A and B)ã€‚\n#å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•æˆ–è€…ç”¨æˆ·æ²¡æœ‰ä½¿ç”¨Chromeï¼Œæ‹’ç»æä¾›æœåŠ¡ if not user.has_logged_in or not user.is_from_chrome: return \u0026#34;our service is only available for chrome logged in user\u0026#34; # ç­‰ä»·äºä¸‹é¢ if not (user.has_logged_in and user.is_from_chrome): return \u0026#34;our service is only available for chrome logged in user\u0026#34; 3. andå’Œorçš„è¿ç®—ä¼˜å…ˆçº§ # and è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äº or ï¼\n4. orè¿ç®—ç¬¦çš„é™·é˜± # ä½¿ç”¨ a or b æ¥è¡¨ç¤º â€œ aä¸ºç©ºæ—¶ç”¨bä»£æ›¿â€ çš„å†™æ³•éå¸¸å¸¸è§ã€‚\nä½†æ˜¯ï¼Œå› ä¸ºorè®¡ç®—çš„æ˜¯å˜é‡çš„å¸ƒå°”çœŸå‡å€¼ï¼Œæ‰€ä»¥ä¸å…‰æ˜¯Noneï¼Œ0ã€[]ã€{}ä»¥åŠå…¶ä»–æ‰€æœ‰å¸ƒå°”å€¼ä¸ºå‡çš„ä¸œè¥¿ï¼Œéƒ½ä¼šåœ¨orè¿ç®—ä¸­è¢«å¿½ç•¥ï¼š\n#æ‰€æœ‰çš„0ã€ç©ºåˆ—è¡¨ã€ç©ºå­—ç¬¦ä¸²ç­‰ï¼Œéƒ½æ˜¯å¸ƒå°”å‡å€¼ \u0026gt;\u0026gt;\u0026gt; bool(None), bool(0), bool([]), bool({}), bool(\u0026#39;\u0026#39;), bool(set()) (False, False, False, False, False, False) æ‰€ä»¥åœ¨ä½¿ç”¨ a or b æ—¶å€™ï¼Œä¸€å®šè¦æ³¨æ„å˜é‡çš„å¸ƒå°”å€¼çœŸå‡ã€‚\nç¬¬ 5 ç«  å¼‚å¸¸ä¸é”™è¯¯å¤„ç† # æœ¬ç« ä¸»è¦æ˜¯ä½œè€…å¯¹å¼‚å¸¸å¤„ç†çš„ç»éªŒå’ŒæŠ€å·§ã€‚\n1. å¼‚å¸¸æ•è·çš„ç»éªŒæŠ€å·§ # 1. ä¼˜å…ˆä½¿ç”¨å¼‚å¸¸æ•è· # Pythonç¤¾åŒºæ˜æ˜¾åçˆ±åŸºäºå¼‚å¸¸æ•è·çš„EAFPï¼ˆasier to ask for forgiveness than permissionï¼‰é£æ ¼ã€‚\nEAFPç¼–ç¨‹é£æ ¼æ›´ä¸ºç®€å•ç›´æ¥ï¼Œå®ƒæ€»æ˜¯ç›´å¥”ä¸»æµç¨‹è€Œå»ï¼ŒæŠŠæ„å¤–æƒ…å†µéƒ½æ”¾åœ¨å¼‚å¸¸å¤„ç†try/exceptå—å†…æ¶ˆåŒ–æ‰ã€‚\næ‰€ä»¥ï¼Œæ¯å½“ç›´è§‰é©±ä½¿ä½ å†™ä¸‹if/elseæ¥è¿›è¡Œé”™è¯¯åˆ†æ”¯åˆ¤æ–­æ—¶ï¼Œè¯·å…ˆæŠŠè¿™ä»½å†²åŠ¨æ”¾ä¸€è¾¹ï¼Œè€ƒè™‘ç”¨tryæ¥æ•è·å¼‚å¸¸æ˜¯ä¸æ˜¯æ›´åˆé€‚ã€‚\n2. try/exceptç»“æ„ # å¸¸è§çš„ try/except åŸºç¡€è¯­æ³•å¦‚ä¸‹ï¼š\ndef safe_int(value): \u0026#34;\u0026#34;\u0026#34;å°è¯•æŠŠè¾“å…¥è½¬æ¢ä¸ºæ•´æ•°\u0026#34;\u0026#34;\u0026#34; try: return int(value) except TypeError: # å½“æŸç±»å¼‚å¸¸è¢«æŠ›å‡ºæ—¶ï¼Œå°†ä¼šæ‰§è¡Œå¯¹åº” except ä¸‹çš„è¯­å¥ print(f\u0026#39;type error: {type(value)} is invalid\u0026#39;) except ValueError: # ä½ å¯ä»¥åœ¨ä¸€ä¸ª try è¯­å¥å—ä¸‹å†™å¤šä¸ª except print(f\u0026#39;value error: {value} is invalid\u0026#39;) finally: # finally é‡Œçš„è¯­å¥ï¼Œæ— è®ºå¦‚ä½•éƒ½ä¼šè¢«æ‰§è¡Œï¼Œå“ªæ€•å·²ç»æ‰§è¡Œäº†return print(\u0026#39;function completed\u0026#39;) 3. æŠŠæ›´ç²¾ç¡®çš„ except è¯­å¥æ”¾åœ¨å‰é¢ # å¦‚æœä¸€ä¸ªtryä»£ç å—é‡ŒåŒ…å«å¤šæ¡ exceptï¼Œå¼‚å¸¸åŒ¹é…ä¼šæŒ‰ç…§ä»ä¸Šè€Œä¸‹çš„é¡ºåºè¿›è¡Œã€‚\nè¿™æ—¶ï¼Œå‡å¦‚ä½ ä¸å°å¿ƒæŠŠä¸€ä¸ªæ¯”è¾ƒæ¨¡ç³Šçš„çˆ¶ç±»å¼‚å¸¸æ”¾åœ¨å‰é¢ï¼Œå°±ä¼šå¯¼è‡´åœ¨ä¸‹é¢çš„ except æ°¸è¿œä¸ä¼šè¢«è§¦å‘ã€‚\næ‰€ä»¥ï¼ŒæŠŠæ›´ç²¾ç¡®çš„å¼‚å¸¸æ”¾åœ¨å‰é¢ã€‚\nPython çš„å†…ç½®å¼‚å¸¸ç±»ä¹‹é—´å­˜åœ¨è®¸å¤šç»§æ‰¿å…³ç³»ï¼Œå…·ä½“å¯ä»¥çœ‹ Python3.infoã€‚\nException Hierarchy 4. else åˆ†æ”¯ # å¦‚æœä½¿ç”¨ try è¯­å¥å—é‡Œçš„ else åˆ†æ”¯ï¼Œä»£ç å¯ä»¥å˜å¾—æ›´ç®€å•ï¼š\ntry: sync_profile(user.profile, to_external=True) except Exception as e: print(\u0026#34;Error while syncing user profile\u0026#34;) else: send_notification(user, \u0026#39;profile sync succeeded\u0026#39;) å¼‚å¸¸æ•è·è¯­å¥é‡Œçš„ else è¡¨ç¤ºï¼šä»…å½“ try è¯­å¥å—é‡Œæ²¡æŠ›å‡ºä»»ä½•å¼‚å¸¸æ—¶ï¼Œæ‰æ‰§è¡Œ else åˆ†æ”¯ä¸‹çš„å†…å®¹ï¼Œæ•ˆæœå°±åƒåœ¨ try æœ€åå¢åŠ ä¸€ä¸ªæ ‡è®°å˜é‡ä¸€æ ·ã€‚\nå’Œfinallyè¯­å¥ä¸åŒï¼Œå‡å¦‚ç¨‹åºåœ¨æ‰§è¡Œtryä»£ç å—æ—¶ç¢°åˆ°äº†returnæˆ–breakç­‰è·³è½¬è¯­å¥ï¼Œä¸­æ–­äº†æœ¬æ¬¡å¼‚å¸¸æ•è·ï¼Œé‚£ä¹ˆå³ä¾¿ä»£ç æ²¡æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œelseåˆ†æ”¯å†…çš„é€»è¾‘ä¹Ÿä¸ä¼šè¢«æ‰§è¡Œã€‚\n5. raise è¯­å¥ # åœ¨ Python ä¸­ï¼Œraise è¯­å¥ç”¨äºå¼•å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œå³ä¸­æ–­ç¨‹åºçš„æ­£å¸¸æµç¨‹å¹¶ç”Ÿæˆä¸€ä¸ªé”™è¯¯ã€‚\nraise Exception(\u0026#34;è¿™æ˜¯ä¸€ä¸ªä¸€èˆ¬æ€§çš„é”™è¯¯\u0026#34;) # è¾“å‡º # Traceback (most recent call last): # File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; # Exception: è¿™æ˜¯ä¸€ä¸ªä¸€èˆ¬æ€§çš„é”™è¯¯ å½“æˆ‘ä»¬æƒ³ä»…ä»…æƒ³è®°å½•ä¸‹æŸä¸ªå¼‚å¸¸ï¼Œç„¶åæŠŠå®ƒé‡æ–°æŠ›å‡ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„ raise è¯­å¥ã€‚\ndef incr_by_key(d, key): try: d[key] += 1 except KeyError: print(f\u0026#39;key {key} does not exists, re-raise the exception\u0026#39;) raise å½“ä¸€ä¸ªç©º raise è¯­å¥å‡ºç°åœ¨ except å—é‡Œæ—¶ï¼Œå®ƒä¼šåŸå°ä¸åŠ¨åœ°é‡æ–°æŠ›å‡ºå½“å‰å¼‚å¸¸åŠå¼‚å¸¸ç±»å‹ã€‚\n6. å¯ä»¥è‡ªå®šä¹‰å¼‚å¸¸ç±» # class CreateItemError(Exception): \u0026#34;\u0026#34;\u0026#34;åˆ›å»º Item å¤±è´¥\u0026#34;\u0026#34;\u0026#34; def create_item(name): \u0026#34;\u0026#34;\u0026#34;åˆ›å»ºä¸€ä¸ªæ–°çš„Item :raises: å½“æ— æ³•åˆ›å»ºæ—¶æŠ›å‡º CreateItemError \u0026#34;\u0026#34;\u0026#34; if len(name) \u0026gt; MAX_LENGTH_OF_NAME: raise CreateItemError(\u0026#39;name of item is too long\u0026#39;) if len(get_current_items()) \u0026gt; MAX_ITEMS_QUOTA: raise CreateItemError(\u0026#39;items is full\u0026#39;) return Item(name=name), \u0026#39;\u0026#39; def create_from_input(): name = input() try: item = create_item(name) except CreateItemError as e: print(f\u0026#39;create item failed: {e}\u0026#39;) else: print(f\u0026#39;item\u0026lt;{name}\u0026gt; created\u0026#39;) 7. ä¸è¦æ‰‹åŠ¨åšæ•°æ®æ ¡éªŒ # åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬åº”å½“å°½é‡é¿å…æ‰‹åŠ¨æ ¡éªŒä»»ä½•æ•°æ®ã€‚ å› ä¸ºæ•°æ®æ ¡éªŒä»»åŠ¡ç‹¬ç«‹æ€§å¾ˆå¼ºï¼Œæ‰€ä»¥åº”è¯¥å¼•å…¥åˆé€‚çš„ç¬¬ä¸‰æ–¹æ ¡éªŒæ¨¡å—ï¼ˆæˆ–è€…è‡ªå·±å®ç°ï¼‰ï¼Œè®©å®ƒä»¬æ¥å¤„ç†è¿™éƒ¨åˆ†ä¸“ä¸šå·¥ä½œã€‚\nå‡å¦‚ä½ åœ¨å¼€å‘Webåº”ç”¨ï¼Œæ•°æ®æ ¡éªŒå·¥ä½œé€šå¸¸æ¥è¯´æ¯”è¾ƒå®¹æ˜“ã€‚æ¯”å¦‚Djangoæ¡†æ¶å°±æœ‰è‡ªå·±çš„è¡¨å•éªŒè¯æ¨¡å—ï¼ŒFlaskä¹Ÿå¯ä»¥ä½¿ç”¨WTFormsæ¨¡å—æ¥è¿›è¡Œæ•°æ®æ ¡éªŒã€‚\nç¬¬ 6 ç«  å¾ªç¯ä¸å¯è¿­ä»£å¯¹è±¡ # æœ¬ç« ä¸»è¦æ˜¯åˆ†äº«åœ¨ Python é‡Œç¼–å†™å¾ªç¯çš„ä¸€äº›ç»éªŒå’ŒæŠ€å·§ï¼Œé‡ç‚¹æ—¶è¿­ä»£å™¨ä¸è¿­ä»£å™¨çš„ä½¿ç”¨ã€‚\n1. iter() ä¸ next() å†…ç½®å‡½æ•° # iter() ä¼šå°è¯•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡\n\u0026gt;\u0026gt;\u0026gt; iter([1, 2, 3]) \u0026lt;list_iterator object at 0x101a82d90\u0026gt; \u0026gt;\u0026gt;\u0026gt; iter(\u0026#39;foo\u0026#39;) \u0026lt;str_iterator object at 0x101a99ed0\u0026gt; \u0026gt;\u0026gt;\u0026gt; iterï¼ˆ1ï¼‰ Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; TypeError: \u0026#39;int\u0026#39; object is not iterable # å¯¹ä¸å¯è¿­ä»£çš„ç±»å‹æ‰§è¡Œiter()ä¼šæŠ›å‡ºTypeErrorå¼‚å¸¸ ä»€ä¹ˆæ˜¯è¿­ä»£å™¨ï¼ˆiteratorï¼‰ï¼Ÿ\né¡¾åæ€ä¹‰ï¼Œè¿™æ˜¯ä¸€ç§å¸®åŠ©ä½ è¿­ä»£å…¶ä»–å¯¹è±¡çš„å¯¹è±¡ã€‚è¿­ä»£å™¨æœ€é²œæ˜çš„ç‰¹å¾æ˜¯ï¼šä¸æ–­å¯¹å®ƒæ‰§è¡Œ next() å‡½æ•°ä¼šè¿”å›ä¸‹ä¸€æ¬¡è¿­ä»£ç»“æœã€‚\n\u0026gt;\u0026gt;\u0026gt; l = [\u0026#39;foo\u0026#39;, \u0026#39;bar\u0026#39;] # é¦–å…ˆé€šè¿‡ iter å‡½æ•°æ‹¿åˆ°åˆ—è¡¨ l çš„è¿­ä»£å™¨å¯¹è±¡ \u0026gt;\u0026gt;\u0026gt; iter_l = iter(l) \u0026gt;\u0026gt;\u0026gt; iter_l \u0026lt;list_iterator object at 0x101a8c6d0\u0026gt; # ç„¶åå¯¹è¿­ä»£å™¨è°ƒç”¨next() ä¸æ–­è·å–åˆ—è¡¨çš„ä¸‹ä¸€ä¸ªå€¼ \u0026gt;\u0026gt;\u0026gt; next(iter_l) \u0026#39;foo\u0026#39; \u0026gt;\u0026gt;\u0026gt; next(iter_l) \u0026#39;bar\u0026#39; å½“è¿­ä»£å™¨æ²¡æœ‰æ›´å¤šå€¼å¯ä»¥è¿”å›æ—¶ï¼Œä¾¿ä¼šæŠ›å‡º StopIteration å¼‚å¸¸ã€‚\n2. è‡ªå®šä¹‰è¿­ä»£å™¨ # è¦è‡ªå®šä¹‰ä¸€ä¸ªè¿­ä»£å™¨ç±»å‹ï¼Œå…³é”®åœ¨äºå®ç°ä¸‹é¢è¿™ä¸¤ä¸ªé­”æ³•æ–¹æ³•ï¼š\nÂ· __iter__ ï¼šè°ƒç”¨iter()æ—¶è§¦å‘ï¼Œè¿­ä»£å™¨å¯¹è±¡æ€»æ˜¯è¿”å›è‡ªèº«ã€‚\nÂ· __next__ ï¼šè°ƒç”¨next()æ—¶è§¦å‘ï¼Œé€šè¿‡ return æ¥è¿”å›ç»“æœï¼Œæ²¡æœ‰æ›´å¤šå†…å®¹å°±æŠ›å‡º StopIteration å¼‚å¸¸ï¼Œä¼šåœ¨è¿­ä»£è¿‡ç¨‹ä¸­å¤šæ¬¡è§¦å‘ã€‚\n3. ç”Ÿæˆå™¨æ˜¯è¿­ä»£å™¨ # ç”Ÿæˆå™¨è¿˜æ˜¯ä¸€ç§ç®€åŒ–çš„è¿­ä»£å™¨å®ç°, ä½¿ç”¨å®ƒå¯ä»¥å¤§å¤§é™ä½å®ç°ä¼ ç»Ÿè¿­ä»£å™¨çš„ç¼–ç æˆæœ¬ã€‚ åŸºæœ¬ä¸éœ€è¦é€šè¿‡ __iter__ å’Œ __next__ æ¥å®ç°è¿­ä»£å™¨ï¼Œåªè¦å†™ä¸Šå‡ ä¸ª yield å°±è¡Œã€‚\ndef range_7_gen(start, end): \u0026#34;\u0026#34;\u0026#34;ç”Ÿæˆå™¨ç‰ˆæœ¬çš„Range7Iterator\u0026#34;\u0026#34;\u0026#34; num = start while num \u0026lt; end: if num != 0 and (num % 7 == 0 or \u0026#39;7\u0026#39; in str(num)): yield num num += 1 æˆ‘ä»¬å¯ä»¥ç”¨ iter() å’Œ next() å‡½æ•°æ¥éªŒè¯â€œç”Ÿæˆå™¨å°±æ˜¯è¿­ä»£å™¨â€è¿™ä¸ªäº‹å®ï¼š\n\u0026gt;\u0026gt;\u0026gt; nums = range_7_gen(0, 20) # ä½¿ç”¨iter() å‡½æ•°æµ‹è¯• \u0026gt;\u0026gt;\u0026gt; iter(nums) \u0026lt;generator object range_7_gen at 0x10404b2e0\u0026gt; \u0026gt;\u0026gt;\u0026gt; iter(nums) is nums True # ä½¿ç”¨next() ä¸æ–­è·å–ä¸‹ä¸€ä¸ªå€¼ \u0026gt;\u0026gt;\u0026gt; next(nums) 7 \u0026gt;\u0026gt;\u0026gt; next(nums) 14 ç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ åˆ©ç”¨å…¶ç®€å•çš„è¯­æ³•ï¼Œå¤§å¤§é™ä½äº†è¿­ä»£å™¨çš„ä½¿ç”¨é—¨æ§›ï¼Œæ˜¯ä¼˜åŒ–å¾ªç¯ä»£ç æ—¶æœ€å¾—åŠ›çš„å¸®æ‰‹ã€‚\n4. ä¿®é¥°å¯è¿­ä»£å¯¹è±¡ä¼˜åŒ–å¾ªç¯ # è¿™é‡Œä¸»è¦è®²çš„æ˜¯ä¸€ç§å¾ªç¯ä»£ç çš„ä¼˜åŒ–æ€è·¯ï¼Œé€šè¿‡ä¿®é¥°å¯è¿­ä»£å¯¹è±¡æ¥ä¼˜åŒ–å¾ªç¯ã€‚\né€šä¿—çš„æ¥è®²å…¶å®å°±æ˜¯ï¼šè¿­ä»£ï¼ˆè¿­ä»£å™¨ï¼‰ã€‚å¯ä»¥ç±»æ¯”ä¸ enumerate çš„åšæ³•ã€‚\nâ€œä¿®é¥°å¯è¿­ä»£å¯¹è±¡â€æ˜¯æŒ‡ç”¨ç”Ÿæˆå™¨ï¼ˆæˆ–æ™®é€šçš„è¿­ä»£å™¨ï¼‰åœ¨å¾ªç¯å¤–éƒ¨åŒ…è£…åŸæœ¬çš„å¾ªç¯ä¸»ä½“ï¼Œå®Œæˆä¸€äº›åŸæœ¬å¿…é¡»åœ¨å¾ªç¯å†…éƒ¨æ‰§è¡Œçš„å·¥ä½œâ€”â€”æ¯”å¦‚è¿‡æ»¤ç‰¹å®šæˆå‘˜ã€æä¾›é¢å¤–ç»“æœç­‰ï¼Œä»¥æ­¤ç®€åŒ–å¾ªç¯ä»£ç ã€‚\n5. è¯»å–å¤§æ–‡ä»¶ # è°ƒç”¨ file.read(chunk_size) ,ä¼šé©¬ä¸Šè¯»å–ä»å½“å‰æ¸¸æ ‡ä½ç½®å¾€å chunk_size å¤§å°çš„æ–‡ä»¶å†…å®¹. è§£å†³è¯»å–å¤§æ–‡ä»¶çš„æ€§èƒ½é—®é¢˜ã€‚\nfrom functools import partial def count_digits_v3(fname): count = 0 block_size = 1024 * 8 with open(fname) as fp: # ä½¿ç”¨functools.partial æ„é€ ä¸€ä¸ªæ–°çš„æ— é¡»å‚æ•°çš„å‡½æ•° _read = partial(fp.read, block_size) # åˆ©ç”¨iter() æ„é€ ä¸€ä¸ªä¸æ–­è°ƒç”¨_read çš„è¿­ä»£å™¨ for chunk in iter(_read, \u0026#39;\u0026#39;): for s in chunk: if s.isdigit(): count += 1 return count ","date":"2024-07-06","externalUrl":null,"permalink":"/booknote/python%E5%B7%A5%E5%8C%A0%E4%B8%8A/","section":"è¯»ä¹¦","summary":"","title":"ã€ŠPyhotnå·¥åŒ â€”â€”æ¡ˆä¾‹ã€æŠ€å·§ä¸å·¥ç¨‹å®è·µã€‹(ä¸Š)","type":"booknote"},{"content":"","date":"2024-06-29","externalUrl":null,"permalink":"/tags/github/","section":"Tags","summary":"","title":"Github","type":"tags"},{"content":" å¼•è¨€ # å½“ Github ä¸Šçš„å…³è”é‚®ç®±ä¿®æ”¹ä¹‹åï¼Œä¼šå‘ç°åŸæ¥çš„ commit åœ¨ GitHub çš„ Contribution é‡Œé¢ä¸è§äº† ğŸ˜… ï¼ŒåŒæ—¶æœ¬åœ°æäº¤çš„ commitï¼Œä¹Ÿä¸ä¼šåœ¨ Contribution é‡Œé¢æ˜¾ç¤ºã€‚\næ ¹æœ¬åŸå› å°±æ˜¯æœ¬åœ°çš„é‚®ç®±å’Œç”¨æˆ·åå’Œ Github ä¸Šçš„é‚®ç®±ä¸ä¸€è‡´ï¼Œæœ¬åœ°çš„é‚®ç®±å’Œç”¨æˆ·åè¿˜æ˜¯ä¹‹å‰çš„é‚®ç®±ç”¨æˆ·åã€‚\né‚£ä¹ˆä¸‹é¢å°±æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nä¿®æ”¹æœ¬åœ°é‚®ç®±å’Œç”¨æˆ·å # æŸ¥çœ‹å…¨å±€é…ç½®çš„ç”¨æˆ·åå’Œé‚®ç®±\nå…¨å±€é…ç½®æ˜¯å¯¹æ‰€æœ‰ä»“åº“ç”Ÿæ•ˆçš„è®¾ç½®ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å…¨å±€é…ç½®çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼š\ngit config --global user.name git config --global user.email ä¸‹é¢æˆ‘ä»¬è¦æŠŠ commit æ—¶çš„ç”¨æˆ·åå’Œé‚®ç®±åœ°å€æ”¹ä¸ºä¸ Github ä¸Šè®¾ç½®çš„ä¸€è‡´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ï¼š\ngit config --global user.name \u0026lt;your username for Github\u0026gt; git config --global user.email \u0026lt;your email address for Github\u0026gt; ä¿®æ”¹åï¼Œå†æäº¤ commit ï¼Œå°±ä¼šçœ‹åˆ° commit è¢«è®°å…¥ Contribution äº†ã€‚\næ‰¾å›ä¹‹å‰æäº¤çš„ Contriubtion # ç°åœ¨æˆ‘ä»¬éœ€è¦æ‰¾å›ä¹‹å‰æäº¤çš„ commitã€‚\n1. æŸ¥çœ‹å½“å‰æœ¬åœ°ä»“åº“ä¸­çš„æäº¤ï¼š # git shortlog å‘½ä»¤å¯ä»¥å¯¹æ‰€æœ‰æäº¤çš„ä½œè€…è¿›è¡Œæ±‡æ€»ï¼š\ngit shortlog -s -e sï¼šæ˜¾ç¤ºæ¯ä¸ªä½œè€…çš„æäº¤æ•°é‡ eï¼šæ˜¾ç¤ºä½œè€…çš„ç”µå­é‚®ä»¶åœ°å€ æ­¤æ—¶æœ¬åœ°ä»“åº“åº”è¯¥æ˜¾ç¤ºä¹‹å‰é‚®ç®±çš„ commit æ•°é‡ï¼Œå¹¶æ²¡æœ‰æ–°é‚®ç®±çš„ commitï¼Œè¿™å°±æ˜¯ Github ä¸Šä¸æ˜¾ç¤º contribute çš„åŸå› ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦é€ä¸ªä»“åº“è¿›è¡Œä¿®æ”¹ä¹‹å‰æäº¤çš„ commit (çš„é‚®ç®±å’Œç”¨æˆ·å)ã€‚\nä½ æƒ³æ¢å¤å‡ ä¸ªä»“åº“çš„ contributeï¼Œå°±é‡å¤å‡ æ¬¡ä¸‹é¢çš„æ­¥éª¤ã€‚\n2. å°†è¦ä¿®æ”¹çš„repoå…‹éš†åˆ°æœ¬åœ° # git clone --bare \u0026lt;the repo address\u0026gt; git \u0026ndash;bare å‘½ä»¤ï¼Œç”¨äºå…‹éš†ä¸€ä¸ªè£¸ä»“åº“ï¼ˆbare repositoryï¼‰ã€‚è£¸ä»“åº“æ˜¯ä¸€ç§ç‰¹æ®Šçš„ Git ä»“åº“ï¼Œå®ƒåªåŒ…å« Git çš„ç‰ˆæœ¬æ§åˆ¶æ•°æ®ï¼Œè€Œä¸åŒ…å«å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚\n3. å°†å‘½ä»¤è¡Œçš„å½“å‰ç›®å½•åˆ‡æ¢åˆ°æ–°å…‹éš†çš„åº“ä¸‹ # cd \u0026lt;the repo path\u0026gt; 4. ç¼–å†™è„šæœ¬ # æ ¹æ®ä½ çš„ä¿¡æ¯ä¿®æ”¹ä»¥ä¸‹å˜é‡ï¼Œè¿è¡Œè„šæœ¬ã€‚\n#!/bin/sh git filter-branch --env-filter \u0026#39; OLD_EMAIL=\u0026#34;éœ€è¦è¢«æ›¿æ¢çš„é‚®ç®±\u0026#34; NEW_NAME=\u0026#34;æ–°çš„ç”¨æˆ·å\u0026#34; NEW_EMAIL=\u0026#34;æ–°çš„é‚®ç®±\u0026#34; if [ \u0026#34;$GIT_COMMITTER_EMAIL\u0026#34; = \u0026#34;$OLD_EMAIL\u0026#34; ] then export GIT_COMMITTER_NAME=\u0026#34;$NEW_NAME\u0026#34; export GIT_COMMITTER_EMAIL=\u0026#34;$NEW_EMAIL\u0026#34; fi if [ \u0026#34;$GIT_AUTHOR_EMAIL\u0026#34; = \u0026#34;$OLD_EMAIL\u0026#34; ] then export GIT_AUTHOR_NAME=\u0026#34;$NEW_NAME\u0026#34; export GIT_AUTHOR_EMAIL=\u0026#34;$NEW_EMAIL\u0026#34; fi \u0026#39; --tag-name-filter cat -- --branches --tags 5. å†æ¬¡æŸ¥çœ‹æŸ¥æœ¬åœ°ä»“åº“ï¼ˆbare repoï¼‰ä¸­çš„æäº¤ï¼š # é‡å¤ ç¬¬1æ­¥\ngit shortlog -s -e æ­¤æ—¶åº”è¯¥èƒ½çœ‹åˆ°ï¼Œä¹‹å‰çš„é‚®ç®±å’Œç”¨æˆ·åï¼Œå·²ç»è¢«æ”¹ä¸ºäº†æ–°çš„é‚®ç®±å’Œç”¨æˆ·åã€‚\n6. æŠŠæ­£ç¡®å†å²pushåˆ°Githubä¸Š # æŠŠä¿®æ”¹å¥½çš„æœ¬åœ°å†å²ä¿¡æ¯ push åˆ° Github ä¸Šï¼Œä¹‹åå°±å¯ä»¥åœ¨ç½‘ç«™ä¸Šçœ‹åˆ°ä¸¢å¤±çš„ Contribution ä¿¡æ¯ ğŸ˜‰ã€‚\ngit push --force --tags origin \u0026#39;refs/heads/*\u0026#39; git pushï¼šå°†æœ¬åœ°çš„æäº¤æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚\nforce æˆ– -fï¼šå¼ºåˆ¶æ¨é€ã€‚ä½¿ç”¨æ­¤é€‰é¡¹ä¼šè¦†ç›–è¿œç¨‹ä»“åº“ä¸­çš„å†å²è®°å½•ï¼Œæ— è®ºè¿œç¨‹ä»“åº“çš„çŠ¶æ€å¦‚ä½•ã€‚è¿™é€šå¸¸ç”¨äºé‡å†™è¿œç¨‹åˆ†æ”¯çš„å†å²ï¼Œæ¯”å¦‚åœ¨ä½ ä½¿ç”¨ git rebase æˆ– git filter-branch ä¹‹åã€‚éœ€è¦å°å¿ƒä½¿ç”¨ï¼Œä»¥å…è¦†ç›–ä»–äººçš„å·¥ä½œã€‚\ntagsï¼šæ¨é€æœ¬åœ°æ‰€æœ‰çš„æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ã€‚æ ‡ç­¾æ˜¯å¯¹ç‰¹å®šæäº¤çš„å¼•ç”¨ï¼Œé€šå¸¸ç”¨äºæ ‡è®°ç‰ˆæœ¬ã€‚\noriginï¼šè¿œç¨‹ä»“åº“çš„åç§°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œorigin æ˜¯å…‹éš†ä»“åº“æ—¶ Git è‡ªåŠ¨èµ‹äºˆè¿œç¨‹ä»“åº“çš„åç§°ã€‚\n\u0026lsquo;refs/heads/\u0026rsquo;ï¼šè¡¨ç¤ºæœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯ã€‚refs/heads/ æ˜¯ Git ä¸­ä¿å­˜åˆ†æ”¯çš„å¼•ç”¨è·¯å¾„ï¼Œ æ˜¯é€šé…ç¬¦ï¼Œè¡¨ç¤ºæ‰€æœ‰åˆ†æ”¯ã€‚\né¢å¤–é—®é¢˜ # æ­¤æ—¶å·²ç»è§£å†³äº†ä¿®æ”¹é‚®ç®±ä¹‹åï¼Œå†å² commit ä¸¢å¤±çš„é—®é¢˜ã€‚\nä½†æ˜¯å½“åœ¨æˆ‘ä¹‹å‰æœ¬åœ°çš„ä»“åº“ä¸­ï¼ˆéåˆšæ‰ clone çš„ bare ä»“åº“ï¼‰ï¼Œè¾“å…¥ git logï¼Œå‘ç°è¿˜æ˜¯ä¹‹å‰çš„ commit ä¿¡æ¯ ğŸ™ƒã€‚\nå…¶å®å°±æ˜¯å› ä¸ºæ²¡æœ‰æ›´æ–°åˆ°è¿œç¨‹ä»“åº“çš„ä¿¡æ¯ã€‚\næ­¤æ—¶å¯ä»¥é€‰æ‹©\ngit pull origin master --allow-unrelated-histories ä¼šæœ‰å†²çªï¼Œè§£å†³å†²çªã€‚\næˆ–è€…é€‰æ‹©æ›´ç®€å•çš„æ–¹æ³• ã€æ¯”è¾ƒæ¨èã€‘ï¼š\né‡ç½®æœ¬åœ°ä»“åº“\nå¼ºåˆ¶æ‹‰å–è¿œç¨‹ä»“åº“çš„æœ€æ–°å†å²\nç¡®å®šæœ¬åœ°çš„æ›´æ”¹å·²ç»ä¿å­˜ï¼ git fetch origin git reset --hard origin/main æ­¤æ—¶æœ¬åœ°ä»“åº“çš„å†å²æäº¤ä¿¡æ¯ä¹Ÿæ›´æ–°äº† ğŸ¥°\nå‚è€ƒèµ„æ–™ # GitHub ä¿®æ”¹ Commit ç”¨æˆ·åå’Œé‚®ç®±\nè§£å†³Githubçš„Contributionæ²¡æœ‰å¢åŠ çš„é—®é¢˜\n","date":"2024-06-29","externalUrl":null,"permalink":"/blog/github-%E9%82%AE%E7%AE%B1%E6%9B%B4%E6%94%B9%E4%B9%8B%E5%90%8E/","section":"å½’æ¡£","summary":"","title":"Github é‚®ç®±æ›´æ”¹ä¹‹å","type":"blog"},{"content":"","date":"2024-06-29","externalUrl":null,"permalink":"/blog/","section":"å½’æ¡£","summary":"","title":"å½’æ¡£","type":"blog"},{"content":"","date":"2024-06-29","externalUrl":null,"permalink":"/tags/%E6%8A%80%E6%9C%AF/","section":"Tags","summary":"","title":"æŠ€æœ¯","type":"tags"},{"content":" å¦‚æœç›´æ¥æƒ³çœ‹æ“ä½œï¼Œè¯·çœ‹ pr-ä¹æ­¥ å¼•è¨€ # Working on [freenode] helped me earn many of the skills I later used for my studies in university and my actual job. I think working on open source projects helps me as much as it helps the project!\nâ€” @errietta, \u0026ldquo;Why I love contributing to open source software\u0026rdquo;\né¦–å…ˆå°è¯•å¼€æºä¹‹å‰ï¼Œå¼ºçƒˆæ¨èé˜…è¯» Open Source Guides (é™„æœ‰å¤šç§è¯­è¨€)ï¼Œä¸‹æ–‡å¾ˆå¤šåšæ³•ä¹Ÿæ˜¯å€Ÿé‰´äºè¿™ä¸ªæ‰‹å†Œã€‚\nå¦å¤–éå¸¸æ¨èå°è¯•ä¸‹é¢è¿™ä¸ª first-contributions è¿™ä¸ªé¡¹ç›®è¿›è¡Œæäº¤ï¼Œä¸‹æ–‡ä¹Ÿä¼šä»¥è¿™ä¸ªé¡¹ç›®ä¸ºä¾‹ï¼Œè¿›è¡Œä¸€æ¬¡ contribution çš„æäº¤ã€‚\nfirstcontributions/first-contributions ğŸš€âœ¨ Help beginners to contribute to open source projects null 43823 75994 é‚£ä¹ˆå°±è®©æˆ‘ä»¬å¼€å§‹å§ï¼ğŸš€\nContribute å‰çš„å‡†å¤‡å·¥ä½œ # åœ¨æŸä¸€ä¸ªå¼€æºé¡¹ç›®æ‰æ ¹å¤šå¹´ï¼Œè¿™æ„å‘³ç€ä½ åªæ˜¯å¯¹è¿™ä¸€ä¸ªå¼€æºé¡¹ç›®æ— æ¯”çš„ç†Ÿæ‚‰ã€‚è‹¥æ˜¯åˆ‡æ¢åˆ°ä¸åŒçš„é¡¹ç›®ï¼Œå¯èƒ½ä¼šå‘ç°å®Œå…¨æ˜¯å¦å¤–ä¸€å›äº‹ï¼Œæ‰€è°“çš„ä½¿ç”¨è¯æ±‡ã€ä¹ æƒ¯ç”¨è¯­ã€æ²Ÿé€šæ–¹å¼éƒ½å‘ç”Ÿäº†å˜åŒ–ã€‚\næ‰€ä»¥å…ˆä¸è¦ç€æ€¥æäº¤ï¼Œå…ˆäº†è§£ä¸€ä¸ªé¡¹ç›®ã€‚\nåœ¨å‡†å¤‡è´¡çŒ®ä¹‹å‰ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå¥½çš„æƒ³æ³•ï¼Œåšä¸€äº›å¿«é€Ÿçš„æ£€æŸ¥é¡¹ï¼ˆissueã€prï¼‰ï¼Œä»¥ç¡®ä¿æ²¡æœ‰äººè®¨è®ºè¿‡ä½ çš„æƒ³æ³•ã€‚\nå¦‚æœæ²¡æœ‰äººæè¿™ä¸ª issueï¼Œå…ˆåˆ›å»ºä¸€ä¸ª issueï¼š æŠ¥å‘Šä½ è‡ªå·±æ— æ³•è§£å†³çš„é”™è¯¯ è®¨è®ºä¸€ä¸ªé«˜çº§ä¸»é¢˜æˆ–æƒ³æ³•(ä¾‹å¦‚. ç¤¾åŒºã€è¿œæ™¯ã€æ”¿ç­–ç­‰) æœŸæœ›å®ç°æŸæ–°çš„ç‰¹æ€§ï¼Œæˆ–è€…å…¶å®ƒé¡¹ç›®çš„æƒ³æ³• å¦‚æœåˆšå¥½æœ‰ä¸€ä¸ªå¼€æ”¾çš„ issueï¼Œå’Œä½ ä¸è°‹è€Œåˆï¼š æ·»åŠ è¯„è®ºï¼Œå‘Šè¯‰ä»–äººä½ å°†è´Ÿè´£è¿™ä¸ªã€‚è¿™æ ·çš„è¯ï¼Œå¯ä»¥é¿å…ä»–äººé‡å¤åŠ³åŠ¨ã€‚ å¦‚æœè¯´æŸä¸ª issue å·²ç»å¼€æ”¾å¾ˆä¹…äº†ï¼Œ è¿™å¯èƒ½æ˜¯å·²ç»æœ‰äººæ­£åœ¨è§£å†³ä¸­ï¼Œåˆæˆ–è€…æ˜¯æ—©å·²ç»è§£å†³è¿‡äº†ï¼Œæ‰€ä»¥ä¹Ÿè¯·æ·»åŠ è¯„è®ºï¼Œåœ¨æ‰“ç®—å¼€å¯å·¥ä½œä¹‹å‰ï¼Œæœ€å¥½æ˜¯ç¡®è®¤ä¸€ä¸‹ã€‚ å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ª issueï¼Œä½†æ˜¯æ²¡å¤šä¹…è‡ªå·±è§£å†³äº†ï¼Œ ä¹Ÿè¦æ·»åŠ è¯„è®ºï¼Œè®©å…¶ä»–äººçŸ¥é“ï¼Œç„¶åå…³é—­è¯¥ issueã€‚è®°å½•æœ¬èº«å°±æ˜¯ä¸ºç¤¾åŒºçš„è´¡çŒ®ã€‚ Contribute æ­¥éª¤ # ä¸‹é¢ä¼šä»¥ first-contributions è¿™ä¸ªé¡¹ç›®ä¸ºä¾‹ï¼Œè¿›è¡Œæäº¤ã€‚\n1. Forkï¼ˆå¤åˆ¶ï¼‰è¿œç¨‹ä»£ç ä»“åº“ # ç‚¹å‡»å›¾ç¤ºä¸­çš„æŒ‰é’®å» Fork è¿™ä¸ªä»£ç ä»“åº“ã€‚ è¿™ä¸ªæ“ä½œä¼šå°†ä»£ç ä»“åº“å¤åˆ¶åˆ°ä½ çš„è´¦æˆ·åä¸‹ã€‚\n2. Cloneï¼ˆå…‹éš†ï¼‰ä»£ç ä»“åº“åˆ°æœ¬åœ° # ä½¿ç”¨ git clone å‘½ä»¤å°† fork çš„ä»£ç ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œ\nè¿›å…¥åˆ°æœ¬åœ°ä»“åº“çš„ç›®å½•ã€‚\ngit clone \u0026#34;your fork repo\u0026#34; cd \u0026#34;your fork repo\u0026#34; 3. ğŸ’¥ğŸ’¥ã€å…³äºåŒæ­¥ã€‘ï¼ˆç†è®ºå†…å®¹ï¼Œä½†æ˜¯å¾ˆé‡è¦ï¼ï¼‰ğŸ’¥ğŸ’¥ # å†²çªä¸€å®šè¦åœ¨æœ¬åœ°æå®šä¹‹åå†æ¨é€ï¼ é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ 3 ä¸ªä¸åŒçš„å­˜å‚¨åº“ï¼šåœ¨ Github ä¸Šçš„å…¬å…±å­˜å‚¨åº“ github.com/firstcontributions/first-contributions.gitã€åœ¨ GitHub ä¸Šå¯¹è¯¥å­˜å‚¨åº“çš„ fork github.com/Your-Name/first-contributions/ ä»¥åŠ æœ¬åœ°è®¡ç®—æœºå­˜å‚¨åº“ã€‚è¿™ç§åˆä½œå¯¹äºå¼€æºé¡¹ç›®æ¥è¯´æ˜¯å…¸å‹çš„ï¼Œç§°ä¸º Triangle Workflowsã€‚\nä¸ºäº†ä½¿ä½ çš„ä¸¤ä¸ª repo ä¸è¿œç«¯çš„å…¬å…±å­˜å‚¨åº“ä¿æŒåŒæ­¥ï¼Œé¦–å…ˆå¿…é¡»è·å–å…¬å…±å­˜å‚¨åº“å¹¶å°†å…¶ä¸æ‚¨æœ¬åœ°è®¡ç®—æœºçš„å­˜å‚¨åº“åˆå¹¶ã€‚æˆ‘ä»¬çš„ç¬¬äºŒæ­¥æ˜¯å°†æ‚¨çš„æœ¬åœ°å­˜å‚¨åº“æ¨é€åˆ°æ‚¨çš„ GitHub forkã€‚ä¹‹åï¼Œä»ä½ çš„ fork è¯·æ±‚ â€œpull requestâ€ã€‚\nåœ¨æ“ä½œä¸­æ³¨æ„ä»¥ä¸‹å‡ ä¸ªåŸåˆ™ï¼š\nå¯¹åˆ«äººçš„é¡¹ç›®è´¡çŒ®PRï¼Œè¦ç”¨è‡ªå·±çš„ feature-branchã€‚ æ¯æ¬¡å‡†å¤‡ coding ä¹‹å‰ä¿è¯è‡ªå·±çš„æœ¬åœ°çš„ main-branch æ˜¯å·²ç»åŒæ­¥ä¸Šæ¸¸ä»“åº“çš„ï¼ˆç›®çš„æ˜¯ä½¿æ–°å»ºçš„ feature-branch æ˜¯æœ€æ–°çš„ï¼‰ã€‚ è‡ªå·±çš„ fork repo çš„ main-branch ä¸ä¸€å®šè¦æ˜¯æœ€æ–°çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯è½åä¸Šæ¸¸å¹¶ä»ä¸æ›´æ–°ï¼ˆå› ä¸ºæ¯æ¬¡æ›´æ–°å’Œ push éƒ½æ˜¯ç”¨ feature-branchï¼‰ã€‚ æ¯æ¬¡ä¿®æ”¹å®Œ feature-branchï¼Œè¦å†æ¬¡åŒæ­¥ä¸Šæ¸¸ä»“åº“ï¼Œä¿è¯ä¹‹åçš„ pr æ²¡æœ‰å†²çªï¼ˆé™ä½å†²çªæ¦‚ç‡ï¼Œä¹Ÿå¯èƒ½ä¼šæœ‰ï¼‰ã€‚ æ‰€ä»¥å¯ä»¥çœ‹å‡ºä¸ºäº†é¿å… conflictï¼ˆå°† conflict å¤„ç†äºæœ¬åœ°ï¼‰ï¼Œæ•´ä¸ªæäº¤ pr çš„è¿‡ç¨‹ä¸­ä¼šæ¶‰åŠä¸¤æ¬¡åŒæ­¥ã€‚\nç¬¬ä¸€æ¬¡æ˜¯å‡†å¤‡ coding ä¹‹å‰ï¼ˆæ–°å»º featur-branch ä¹‹å‰ï¼‰ï¼Œä¿è¯ main/feature branch åŒæ­¥ï¼ˆè¿™æ¬¡å¯ä»¥é‡‡ç”¨git reset --hard origin/masterï¼Œå¼ºåˆ¶åŒæ­¥ï¼Œä¸‹æ–‡ä¼šè®²ï¼‰ã€‚ ç¬¬äºŒæ¬¡æ˜¯å‡†å¤‡ push ä¹‹å‰, ä¿è¯ feature-branch åŒæ­¥ï¼ˆè¿™æ¬¡é‡‡ç”¨ git merge, å¤„ç†conflictï¼‰ã€‚ æ‰€ä»¥ä¸€ç›´åœ¨ä¿æŒåŒæ­¥ä¸Šæ¸¸ä»“åº“çš„åˆ†æ”¯ï¼Œç†è®ºä¸Šåªæœ‰ featur-branchï¼Œè€Œ main-branch åªæœ‰åœ¨ä¸‹æ¬¡è¦æäº¤æ–°çš„ pr ä¹‹å‰å†åŒæ­¥ï¼ˆå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å¯¹æ–¹æ¥å—äº† pr ä¹‹åï¼Œæ‰¾ä¸ªæ—¶é—´åŒæ­¥ä¸€ä¸‹ main-branchï¼Œä»€ä¹ˆæ—¶å€™éƒ½å¥½ã€‚ï¼‰\nå¦‚æœæƒ³äº†è§£åŒæ­¥çš„æ›´å¤šæ–¹å¼ï¼Œå¯ä»¥æŸ¥é˜… ï¼š\nGithubè¿›è¡Œforkåå¦‚ä½•ä¸åŸä»“åº“åŒæ­¥ï¼šé‡æ–°forkå¾ˆçœäº‹ï¼Œä½†ä¸å¦‚åå¤ç»ƒä¹ ç‰ˆæœ¬åˆå¹¶ #67\nï¼ˆæ›´å¤šæ˜¯å€Ÿé‰´äº frostmingå¤§ä½¬çš„åšæ³•ï¼‰ å¦‚ä½•å‚ä¸Tianchi(å¤©æ± )é¡¹ç›®ä»¥åŠå¦‚ä½•è´¡çŒ®ä»£ç  4. åœ¨æœ¬åœ°çš„ä»“åº“é…ç½®â€ä¸Šæ¸¸â€ä¸ºè¿œç«¯ä»“åº“ # æ‰§è¡Œå‘½ä»¤ git remote æŸ¥çœ‹ä½ çš„è¿œç¨‹ä»“åº“çš„è·¯å¾„:\ngit remote -v ä½ å¯ä»¥æŸ¥çœ‹å½“å‰æœ¬åœ°ä»“åº“ä¸­å·²ç»é…ç½®çš„è¿œç¨‹ä»“åº“åœ°å€ã€‚é€šå¸¸ï¼Œä½ ä¼šçœ‹åˆ° origin å¯¹åº”çš„æ˜¯ä½  fork çš„ä»“åº“ã€‚\nå¦‚æœåªæœ‰ä¸Šé¢2è¡Œï¼Œè¯´æ˜ä½ æœªè®¾ç½® upstream ï¼ˆä¸­æ–‡å«ï¼šä¸Šæ¸¸ä»£ç åº“ï¼‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè®¾ç½®å¥½ä¸€æ¬¡ upstream åå°±æ— éœ€é‡å¤è®¾ç½®ã€‚\næ­¤æ—¶ä½ åº”è¯¥æ˜¯åœ¨ä½ çš„ main-branchï¼Œå¦‚æœä¸æ”¾å¿ƒå¯ä»¥ä½¿ç”¨ git branch, æŸ¥çœ‹å½“å‰å‘½ä»¤ã€‚\næ‰§è¡Œå‘½ä»¤ git remote add upstream æŠŠè¿œç«¯çš„ä»“åº“è®¾ç½®ä¸ºä½ çš„ upstream ã€‚è¿™ä¸ªå‘½ä»¤æ‰§è¡Œåï¼Œæ²¡æœ‰ä»»ä½•è¿”å›ä¿¡æ¯ï¼›æ‰€ä»¥å†æ¬¡æ‰§è¡Œå‘½ä»¤ git remote -v æ£€æŸ¥æ˜¯å¦æˆåŠŸã€‚\n$ git remote add upstream https://github.com/firstcontributions/first-contributions æ‰§è¡Œåæ˜¾ç¤ºï¼š\n5. åŒæ­¥æœ¬åœ°çš„ä»“åº“ä¸ä¸Šæ¸¸ä»“åº“ï¼ˆç¬¬ä¸€æ¬¡åŒæ­¥ï¼‰ # åˆ‡è®°ï¼Œè¿™æ­¥ä¸€å®šè¦åœ¨æœ¬åœ°çš„ main-branch åˆ†æ”¯æ‰§è¡Œï¼Œå¦‚æœä¸ç¡®å®šï¼Œå°±ä½¿ç”¨ git branch æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼Œ ä½¿ç”¨ git checkout main åˆ‡æ¢åˆ° main-branchã€‚\nè·å–ä¸Šæ¸¸ä»“åº“çš„æœ€æ–°æ›´æ”¹ï¼š git fetch upstream è¯¥å‘½ä»¤ä»ä¸Šæ¸¸ä»“åº“ï¼ˆupstreamï¼‰è·å–æ‰€æœ‰åˆ†æ”¯å’Œæœ€æ–°çš„æäº¤ï¼Œä½†ä¸ä¼šè‡ªåŠ¨åˆå¹¶æˆ–ä¿®æ”¹æœ¬åœ°åˆ†æ”¯ã€‚\né‡ç½®ï¼ˆå¼ºåˆ¶åŒæ­¥ï¼‰æœ¬åœ° main-branchï¼š git reset --hard upstream/main Qï¼šä¸Šæ¸¸çš„ä¸»åˆ†æ”¯æ˜¯ upstream/main è¿˜æ˜¯ upstream/masterï¼Ÿ\nAï¼šç”±äºå†å²åŸå› ï¼Œ2020å¹´ï¼Œä¸ºäº†æ¶ˆé™¤æœ¯è¯­ä¸­çš„æ½œåœ¨æ­§è§†æ€§å«ä¹‰ï¼ŒGit é¡¹ç›®å’Œè®¸å¤šå¼€æºç¤¾åŒºå†³å®šå°†é»˜è®¤ä¸»åˆ†æ”¯åç§°ä» master æ”¹ä¸º mainã€‚\næ‰€ä»¥åœ¨ä½¿ç”¨ git reset --hard ä¹‹å‰å¯ä»¥å…ˆä½¿ç”¨ git branch -r æŸ¥çœ‹ä¸Šæ¸¸æ‰€æœ‰åˆ†æ”¯ï¼ŒæŸ¥çœ‹ upstream çš„é»˜è®¤ä¸»åˆ†æ”¯æ˜¯ main è¿˜æ˜¯ masterã€‚\nåœ¨æ‰§è¡Œ git reset \u0026ndash;hard upstream/main å‘½ä»¤ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²ç»å°†æ‰€æœ‰é‡è¦çš„æ›´æ”¹æäº¤åˆ°å…¶ä»–åˆ†æ”¯æˆ–ä¿å­˜åˆ°å…¶ä»–åœ°æ–¹ï¼Œå› ä¸ºæ­¤å‘½ä»¤ä¼šä¸¢å¼ƒæœ¬åœ° main åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æœªæäº¤çš„æ›´æ”¹ã€‚ 5. æ–°å»ºåˆ†æ”¯ # æ–°å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œåœ¨æ–°çš„åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œç¡®ä¿ main åˆ†æ”¯ä¿æŒåŒæ­¥ä¸”ä¸å—å¹²æ‰°ã€‚è¿™ä½¿å¾— main åˆ†æ”¯å¯ä»¥éšæ—¶ç”¨äºåŒæ­¥æœ€æ–°çš„ä¸Šæ¸¸ä»£ç ã€‚\næ–°å»ºåˆ†æ”¯å¹¶ä¸”åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼š\ngit branch add-myname git checkout add-myname æˆ–è€…ç›´æ¥ä½¿ç”¨ï¼š\ngit checkout -b add-myname æ–°å»ºåˆ†æ”¯åå­—æ—¶ï¼Œç¡®ä¿æ¸…æ™°ã€æ˜“äºç†è§£ï¼ŒåŒºåˆ† issue å’Œ featureã€‚ä¾‹å¦‚ï¼š\nfeature/add-user-authentication\nfix/issue-1234-bug-fix\nupdate/readme-improvements\nhotfix/production-bug-fix\n6. å¯¹ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œç„¶å Commit (æäº¤) ä¿®æ”¹ # æ­¤æ—¶ä»£ç ä¿®æ”¹çš„æ“ä½œï¼Œéƒ½æ˜¯åœ¨ä½ æ–°å»ºçš„branchä¸Šè¿›è¡Œã€‚ åœ¨æœ¬æ–‡çš„ä¾‹å­ä¸­ï¼Œ\næ‰“å¼€ Contributors.md è¿™ä¸ªæ–‡ä»¶ï¼Œæ›´æ–°æ–‡ä»¶å†…å®¹ï¼Œå°†ä½ çš„åå­—åŠ ä¸Šå»ï¼Œä¿å­˜ä¿®æ”¹ã€‚git status è¿™å‘½ä»¤ä¼šåˆ—å‡ºè¢«æ”¹åŠ¨çš„æ–‡ä»¶ã€‚æ¥ç€ git add è¿™å‘½ä»¤åˆ™å¯ä»¥æ·»åŠ ä½ çš„æ”¹åŠ¨ã€‚\nç°åœ¨å°±å¯ä»¥ä½¿ç”¨ git commit å‘½ä»¤ commit ä½ çš„ä¿®æ”¹äº†ã€‚\ngit commit -m \u0026#34;Add \u0026lt;ä½ çš„åå­—\u0026gt; to Contributors list\u0026#34; å°† \u0026lt;ä½ çš„åå­—\u0026gt; æ›¿æ¢æˆä½ çš„åå­—\nä¹‹åå°±å¯ä»¥ä½¿ç”¨ git push å‘½ä»¤, å°†æ–°åˆ†æ”¯æ¨é€åˆ° fork ä»“åº“ï¼š\ngit push origin add-myname ç°åœ¨ä½ çš„ fork repo åº”è¯¥å°±ä¼šæœ‰ä½ å·²ç»æäº¤çš„æ–°åˆ†æ”¯å’Œå†…å®¹ã€‚\nä½ å¯ä»¥é‡å¤æ­¤æ­¥ï¼Œæ¥ä¸æ–­ä¿®æ”¹ä»£ç ã€æ¨åŠ¨ä»£ç åˆ°è‡ªå·±çš„ fork ä»“åº“ï¼Œæ ¹æ®ä¸åŒæƒ…å†µï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šæŒç»­å¾ˆä¹…ï¼Œæˆ–è€…ä¸€æ¬¡å°±å¥½ã€‚\nå¦‚æœä½ å·²ç»å®Œæˆäº†ä¿®æ”¹ï¼Œå‡†å¤‡å¥½è¿›è¡Œ pr äº†ï¼Œé‚£ä¹ˆå¾€ä¸‹çœ‹ã€‚\nï¼ˆåŠ æ²¹ï¼å°±å¿«å®Œäº‹äº†ğŸ˜€ï¼‰\n7. pr ä¹‹å‰ï¼Œå†æ¬¡åŒæ­¥æœ¬åœ°çš„åˆ†æ”¯ä¸ä¸Šæ¸¸ä»“åº“ï¼ˆç¬¬äºŒæ¬¡åŒæ­¥ï¼‰ # å› ä¸ºä½ åœ¨ä¿®æ”¹ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½è¿œç¨‹ä»“åº“å·²ç»æœ‰æ‰€æ›´æ”¹ã€‚\nè¿™æ­¥å°±æ˜¯ä¸ºäº†é¿å… pr ä¹‹åå†è§£å†³ conflict çš„é—®é¢˜ï¼Œè€Œæ˜¯åœ¨æäº¤ä¹‹å‰ï¼Œè®² conflict è§£å†³åœ¨æœ¬åœ°ã€‚\næ­¤æ—¶ä»£ç ä¿®æ”¹çš„æ“ä½œï¼Œä»ç„¶åœ¨ä½ æ–°å»ºçš„ branch ä¸Šè¿›è¡Œã€‚ åœ¨ feature åˆ†æ”¯ä¸Šç›´æ¥ä»ä¸Šæ¸¸ä»“åº“è·å–æœ€æ–°çš„æ›´æ–°ï¼š git fetch upstream å°†ä¸Šæ¸¸ä»“åº“çš„æœ€æ–°æ›´æ”¹åˆå¹¶åˆ° feature åˆ†æ”¯ï¼š git merge upstream/main è§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰ï¼š å¦‚æœåœ¨åˆå¹¶è¿‡ç¨‹ä¸­é‡åˆ°å†²çªï¼Œæ‰‹åŠ¨è§£å†³å†²çªã€‚\nç»§ç»­ mergeï¼š git merge --continue 8. å†æ¬¡ Commit (æäº¤) \u0026amp;\u0026amp; Pushï¼ˆæ¨é€ï¼‰ # ç±»ä¼¼ ç¬¬6æ­¥, å°†åˆ†æ”¯ä»£ç  push åˆ° fork repoã€‚\ngit add . git commit -m \u0026#34;new feature\u0026#34; git push origin add-myname 9. æå‡º Pull Request å°†ä½ çš„ä¿®æ”¹ä¾›ä»–äººå®¡é˜… # å‰å¾€ä½ çš„ Github ä»£ç ä»“åº“ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ª Contribute çš„æŒ‰é’®ã€‚ç‚¹å‡»è¯¥æŒ‰é’®ï¼Œä¹‹åç‚¹å‡» OPen pull requestã€‚\næ¥ç€å¯ä»¥å¡«å†™ Pull Request è¡¨å•ï¼Œæè¿°ä½ çš„ prï¼Œæ¥ç€å†ç‚¹å‡» Create pull request æŒ‰é’®ï¼Œæ­£å¼æäº¤ pull requestã€‚\nä¹‹åä¾¿å¯ä»¥åœ¨è¿œç¨‹ä»“åº“ä¸­çœ‹åˆ°ä½ çš„ PRã€‚\nè€Œä¸”èƒ½åœ¨é‡Œé¢çœ‹åˆ°ä½ ä¹‹å‰çš„ commitã€‚\nå½“ä½ æäº¤äº†ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆ # åœ¨ä½ æäº¤äº†è´¡çŒ®ä¹‹åï¼Œä¸‹é¢å‡ ç§æƒ…å½¢æ˜¯å¯èƒ½å‘ç”Ÿçš„ï¼š\nğŸ˜­ æ²¡æœ‰äººå“åº”ä½ ã€‚ # å³ä½¿åœ¨ä¸€ä¸ªæ´»è·ƒçš„é¡¹ç›®ä¸­ï¼Œä½ çš„è´¡çŒ®ä¹Ÿæœ‰å¯èƒ½å¾—ä¸åˆ°å“åº”ã€‚\nå¦‚æœè¿‡å»äº†ä¸€å‘¨ï¼Œä¾æ—§æ²¡æœ‰äººå“åº”ï¼Œè¯·å¿ƒå¹³æ°”å’Œçš„åœ¨åé¢è·Ÿå¸–ï¼Œè¯¢æ±‚ä»–äººå¸®åŠ©ä½ å®¡æ ¸ã€‚å¦‚æœä½ ç†Ÿæ‚‰æŸä¸ªäººå¯ä»¥å®¡æ ¸ä½ çš„è´¡çŒ®ï¼Œä½ å¯ä»¥ä½¿ç”¨@+åå­—ï¼Œç›´æ¥æé†’ä»–ä¸€ä¸‹ã€‚\nå¦‚æœä½ åšäº†æ‰€æœ‰è¯¥åšçš„äº‹æƒ…ï¼Œè¿˜æ˜¯æ²¡æœ‰äººç†ä½ ï¼Œé‚£å°±æ˜¯çœŸçš„æ²¡æœ‰äººå¯¹ä½ çš„è´¡çŒ®åšå‡ºå“åº”ã€‚è¿™å¯èƒ½ä»¤äººéš¾å—ï¼Œä½†æ˜¯åƒä¸‡ä¸è¦ç°å¿ƒï¼Œæ¯ä¸ªäººéƒ½ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µã€‚ä½ æ²¡æœ‰å¾—åˆ°å›å¤çš„åŸå› æœ‰å¾ˆå¤šï¼ŒåŒ…æ‹¬ä½ æ— æ³•æ§åˆ¶çš„ä¸ªäººæƒ…å†µã€‚å†æ¥å†å‰ï¼Œè¯•ç€å¯»æ‰¾å¦ä¸€ä¸ªé¡¹ç›®æˆ–æ–¹å¼æ¥åšå‡ºè´¡çŒ®ã€‚\nğŸš§ æœ‰äººè¦æ±‚ä½ å¯¹è‡ªå·±çš„æäº¤åšå‡ºå˜æ›´ã€‚ # è¢«è¦æ±‚ä¿®æ”¹ä½ çš„æäº¤æ˜¯å¾ˆå¸¸è§çš„ï¼Œæ— è®ºæ˜¯å¯¹ä½ çš„æƒ³æ³•çš„åé¦ˆï¼Œè¿˜æ˜¯å¯¹ä½ ä»£ç çš„æ”¹åŠ¨ã€‚\nå½“æœ‰äººæå‡ºå˜æ›´æ—¶ï¼Œè¯·åŠæ—¶å“åº”ã€‚ä»–ä»¬èŠ±æ—¶é—´å®¡æ ¸äº†ä½ çš„æäº¤ï¼Œè¦å°Šé‡ä»–ä»¬ã€‚å¼€å¯ PR ç„¶åä¸€èµ°äº†ä¹‹æ˜¯ä¸€ç§æ¶ä¹ ã€‚å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•ä¿®æ”¹ï¼Œè¯·èŠ±æ—¶é—´æ·±å…¥ç ”ç©¶ï¼Œå¹¶åœ¨éœ€è¦æ—¶å¯»æ±‚ä»–äººå¸®åŠ©ã€‚\nå¦‚æœä½ æ²¡æœ‰æ—¶é—´ç»§ç»­å¤„ç†è¿™ä¸ª issueï¼ˆä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœå¯¹è¯æŒç»­äº†å‡ ä¸ªæœˆï¼Œè€Œä½ æƒ…å†µæœ‰å˜ï¼‰ï¼Œé‚£ä¹ˆè¯·å‘ŠçŸ¥ç»´æŠ¤è€…ä½ æ— æ³•å†åŠæ—¶å“åº”äº†ã€‚æˆ–è®¸æœ‰å…¶ä»–äººä¹æ„æ¥æ‰‹ä½ çš„å·¥ä½œ\nğŸ‘ ä½ çš„è´¡çŒ®æ²¡æœ‰è¢«æ¥å—ã€‚ # ä½ çš„è´¡çŒ®æœ€ç»ˆå¯èƒ½è¢«æ¥å—ï¼Œä¹Ÿå¯èƒ½ä¸è¢«æ¥å—ã€‚çœŸå¿ƒå¸Œæœ›ä½ æ²¡æœ‰ä¸ºæ­¤èŠ±è´¹å¤ªå¤šåŠ›æ°”ã€‚å¦‚æœä½ ä¸ç¡®å®šä¸ºä»€ä¹ˆå®ƒä¸è¢«æ¥å—ï¼Œè¯·ç»´æŠ¤è€…æä¾›åé¦ˆå’Œè¯´æ˜æ˜¯å®Œå…¨åˆç†çš„ã€‚ä½†æœ€ç»ˆï¼Œæ— è®ºå¦‚ä½•ï¼Œä½ éƒ½è¦å¯¹ä»–ä»¬çš„å†³å®šè¡¨ç¤ºå°Šé‡ã€‚ä¸è¦å»æ— è°“çš„äº‰è®ºæˆ–è€…æ˜¾éœ²æ•Œæ„ã€‚å¦‚æœä½ åšæŒè‡ªå·±ï¼Œä½ ä»å¯ä»¥ fork é¡¹ç›®ï¼ŒæŒ‰ç…§è‡ªå·±çš„æ€è·¯æ¥å‘å±•åˆ†æ”¯ã€‚\nğŸ‰ ä½ çš„è´¡çŒ®è¢«é‡‡çº³ã€‚ # å¤ªæ£’äº†ï¼ä½ å·²ç»æˆåŠŸåœ°å®Œæˆäº†ä¸€æ¬¡å¼€æºè´¡çŒ®ï¼\nPR ä¹æ­¥ï¼š # # Step 1: Forkï¼ˆå¤åˆ¶ï¼‰è¿œç¨‹ä»£ç ä»“åº“ # Step 2: Cloneï¼ˆå…‹éš†ï¼‰ä»£ç ä»“åº“åˆ°æœ¬åœ° git clone https://github.com/your-name/fork-repo.git cd fork-repo # Step 3: æŸ¥çœ‹è¿œç¨‹ä»“åº“è·¯å¾„ç¡®è®¤æ·»åŠ æˆåŠŸ git remote -v # Step 4: æ·»åŠ ä¸Šæ¸¸ä»“åº“ä½œä¸º upstream git remote add upstream https://github.com/upstream-owner/original-repo.git git remote -v # Step 5: åŒæ­¥æœ¬åœ°ä¸»åˆ†æ”¯ä¸ä¸Šæ¸¸ä¸»åˆ†æ”¯ git fetch upstream git reset --hard upstream/main # æˆ–è€… upstream/master # Step 6: æ–°å»ºä¸€ä¸ªç‰¹æ€§åˆ†æ”¯è¿›è¡Œå¼€å‘ git checkout -b feature-branch # åœ¨ feature-branch ä¸Šåšä¸€äº›æ›´æ”¹å’Œæäº¤ # Step 7: å†æ¬¡åŒæ­¥æœ¬åœ°åˆ†æ”¯ä¸ä¸Šæ¸¸ä»“åº“çš„ä¸»åˆ†æ”¯ git checkout feature-branch git fetch upstream git merge upstream/main # æˆ–è€… upstream/master # Step 8: å°†ç‰¹æ€§åˆ†æ”¯æ¨é€åˆ°ä½ çš„ Fork ä»“åº“ git add . git commit -m \u0026#34;new feature\u0026#34; git push origin feature-branch # Step 9: åœ¨ GitHub ä¸Šåˆ›å»º Pull Request # - å¯¼èˆªåˆ°ä½ çš„ Fork ä»“åº“é¡µé¢ï¼Œé€‰æ‹© feature-branch åˆ†æ”¯ # - ç‚¹å‡» \u0026#34;Pull Request\u0026#34; æŒ‰é’®ï¼Œåˆ›å»º PR åˆ° upstream çš„ä¸»åˆ†æ”¯ # - å¡«å†™ PR æ ‡é¢˜ã€æè¿°ï¼Œæäº¤ PR # è¯·ç¡®ä¿åœ¨æ¯ä¸ªæ­¥éª¤æ‰§è¡Œå‰ç†è§£å¹¶ç¡®è®¤æ“ä½œçš„æ­£ç¡®æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠé‡ç½®å’Œåˆå¹¶çš„æ­¥éª¤ä¸­ã€‚ å‚è€ƒèµ„æ–™ # first-contributions\nhow-to-contribute-to-open-source\nOpen Source Guides\nHow To Get Started In Open Source\nGithubè¿›è¡Œforkåå¦‚ä½•ä¸åŸä»“åº“åŒæ­¥ï¼šé‡æ–°forkå¾ˆçœäº‹ï¼Œä½†ä¸å¦‚åå¤ç»ƒä¹ ç‰ˆæœ¬åˆå¹¶ #67\nå¦‚ä½•å‚ä¸Tianchi(å¤©æ± )é¡¹ç›®ä»¥åŠå¦‚ä½•è´¡çŒ®ä»£ç \n","date":"2024-06-25","externalUrl":null,"permalink":"/blog/%E5%85%B3%E4%BA%8E-contribution-%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/","section":"å½’æ¡£","summary":"","title":"å…³äº Contribution çš„é‚£äº›äº‹","type":"blog"},{"content":"","date":"2024-06-25","externalUrl":null,"permalink":"/tags/%E5%BC%80%E6%BA%90/","section":"Tags","summary":"","title":"å¼€æº","type":"tags"},{"content":"","date":"2024-06-23","externalUrl":null,"permalink":"/tags/%E9%93%BE%E6%8E%A5/","section":"Tags","summary":"","title":"é“¾æ¥ğŸ”—","type":"tags"},{"content":" è¿™é‡Œé¢æ”¾ä¸€äº›æœ‰è¶£çš„æŠ€æœ¯æ–‡ç« é“¾æ¥\nğŸ Python # Pythonå…¨æ ˆå¼€å‘ä»å…¥é—¨åˆ°å…¥åœŸ\n","date":"2024-06-23","externalUrl":null,"permalink":"/blog/%E4%B8%80%E4%BA%9B%E6%9C%89%E8%B6%A3%E7%9A%84%E6%96%87%E7%AB%A0%E6%8A%80%E6%9C%AF%E7%AF%87/","section":"å½’æ¡£","summary":"","title":"ä¸€äº›æœ‰è¶£çš„æ–‡ç« ï¼ˆæŠ€æœ¯ç¯‡ï¼‰","type":"blog"},{"content":"","date":"2024-06-23","externalUrl":null,"permalink":"/tags/%E8%BD%AC%E5%8F%91/","section":"Tags","summary":"","title":"è½¬å‘","type":"tags"},{"content":"","date":"2024-06-15","externalUrl":null,"permalink":"/tags/github-action/","section":"Tags","summary":"","title":"Github Action","type":"tags"},{"content":" 1ã€ä»€ä¹ˆæ˜¯ Github Action ? # GitHub Actions æ˜¯ GitHub æä¾›çš„ä¸€é¡¹ æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ï¼ˆCI/CDï¼‰æœåŠ¡ï¼Œå…è®¸å¼€å‘è€…åœ¨ä»£ç åº“ä¸Šè‡ªåŠ¨åŒ–å„ç§ä»»åŠ¡ã€‚\nç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥æŠŠ GitHub Actions æƒ³è±¡æˆåœ¨ä½ çš„ GitHub ä»£ç ä»“åº“é‡Œçš„ä¸€ä¸ªæœºå™¨äººï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®ä½ ç»™å®ƒè®¾å®šçš„è§„åˆ™ï¼Œè‡ªåŠ¨å®Œæˆä¸€ç³»åˆ—ä»»åŠ¡ï¼ˆWorkflowï¼‰ï¼Œä¸»è¦ç›®çš„å°±æ˜¯æœåŠ¡äºè¿™ä¸ªé¡¹ç›®ï¼ˆä»£ç ä»“åº“ï¼‰ã€‚\n2ã€åŸºæœ¬æ¦‚å¿µ # Workflowï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šå®šä¹‰äº†ä¸€ç³»åˆ—è¦è‡ªåŠ¨æ‰§è¡Œçš„è¿‡ç¨‹ã€‚è¯¦æƒ…å¯ä»¥è§ ç¬¬ä¸‰èŠ‚ã€‚\nEventï¼ˆäº‹ä»¶ï¼‰ï¼šè§¦å‘ Workflow å·¥ä½œæµçš„åŠ¨ä½œï¼Œä¾‹å¦‚ pushã€pull requestã€release ç­‰ã€‚è¯¦æƒ…å¯è§ å®˜æ–¹æ–‡æ¡£ã€‚\nJobï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª Workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª Jobs æ„æˆï¼Œä¸€æ¬¡ Workflow çš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ª Jobsã€‚\nStepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª Jobs ç”±å¤šä¸ª Step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚\nActionï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª Step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆActionï¼‰ã€‚\nevent(è§¦å‘) -\u0026gt; workflow -\u0026gt; job -\u0026gt; step -\u0026gt; action\n3ã€ä¾‹å­ï¼šGithub Page é™æ€åšå®¢è‡ªåŠ¨å‘å¸ƒ # ä½¿ç”¨ Github Action æ„å»ºåšå®¢è‡ªåŠ¨å‘å¸ƒæµç¨‹ã€‚\nä¹‹å‰æ‰‹åŠ¨å‘å¸ƒé™æ€çš„åšå®¢æ–‡ä»¶ï¼Œ éœ€è¦åˆ‡æ¢åˆ° public/ ç›®å½•è¿›è¡Œ pushï¼Œ æ›´æ–° Github page ç•Œé¢\næ˜¯å¦å¯ä»¥åœ¨ pushåˆ° åšå®¢åŸæ–‡ä»¶ä»“åº“çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ›´æ–° Github Pageï¼ˆBlogï¼‰ç•Œé¢å‘¢ï¼Ÿ\n1. é…ç½® workflow æ–‡ä»¶ # GitHub Actions çš„é…ç½®æ–‡ä»¶å«åš workflow æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„ .github/workflows ç›®å½•ã€‚\nworkflow æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º .ymlï¼Œæ¯”å¦‚ blog.ymlã€‚\nä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflow æ–‡ä»¶ã€‚GitHub åªè¦å‘ç° .github/workflows ç›®å½•é‡Œé¢æœ‰ .ymlæ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚\nè‡ªåŠ¨å‘å¸ƒç¤ºä¾‹é…ç½®å¦‚ä¸‹ï¼š\nname: Automatic Blog Publishing on: push: schedule: # Runs everyday at 8:00 AM - cron: \u0026#34;0 0 * * *\u0026#34; jobs: publish: name: auto publish blog runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v4 with: submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#34;latest\u0026#34; - name: Build Web run: hugo - name: Deploy Web uses: peaceiris/actions-gh-pages@v3 with: PERSONAL_TOKEN: ${{ secrets.AUTO_PUBLISH_BLOG_TOKEN }} EXTERNAL_REPOSITORY: LcenArthas/LcenArthas.github.io PUBLISH_BRANCH: main PUBLISH_DIR: ./public commit_message: ${{ github.event.head_commit.message }} ä¸‹é¢é’ˆå¯¹ä¸Šé¢çš„ workflow é…ç½®æ–‡ä»¶ï¼Œè§£é‡Šå…¶ä¸­ç”¨åˆ°çš„å­—æ®µã€‚\nworkflow æ–‡ä»¶å­—æ®µéå¸¸å¤šï¼Œè¯¦è§ å®˜æ–¹æ–‡æ¡£\n1. name å­—æ®µ # æ˜¯ workflow çš„åç§°ã€‚å¦‚æœçœç•¥è¯¥å­—æ®µï¼Œé»˜è®¤ä¸ºå½“å‰ workflow çš„æ–‡ä»¶åã€‚\nname: Automatic Blog Publishing 2. on å­—æ®µ # æŒ‡å®šè§¦å‘ workflow çš„æ¡ä»¶ï¼Œé€šå¸¸æ˜¯æŸäº›äº‹ä»¶ã€‚ä¸‹é¢ä»£ç æŒ‡å®šï¼Œpush äº‹ä»¶è§¦å‘ workflowã€‚\nå®Œæ•´çš„äº‹ä»¶åˆ—è¡¨ï¼Œè¯·æŸ¥çœ‹ å®˜æ–¹æ–‡æ¡£ã€‚\non.schedule å­—æ®µ\né™¤äº†ä»£ç åº“äº‹ä»¶ï¼ŒGitHub Actions ä¹Ÿæ”¯æŒå®šæ—¶è¿è¡Œã€‚æ³¨æ„ï¼Œæ—¶é—´æ˜¯ä½¿ç”¨ POSIX cron è¯­æ³•å°†å·¥ä½œæµè®¡åˆ’ä¸ºåœ¨æŒ‡å®šçš„ UTC æ—¶é—´è¿è¡Œã€‚\non: push: schedule: # Runs everyday at 8:00 AM (UTC 0:00 AM) - cron: \u0026#34;0 0 * * *\u0026#34; 3. job å­—æ®µ # workflow æ–‡ä»¶çš„ä¸»ä½“æ˜¯jobså­—æ®µï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡ã€‚éœ€è¦ç»™å‡ºæ¯ä¸€é¡¹ä»»åŠ¡çš„ job_idï¼Œå…·ä½“åç§°è‡ªå®šä¹‰ï¼Œ ä¾‹å¦‚æˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ª publish ä»»åŠ¡ã€‚\njobs.\u0026lt;job_id\u0026gt;.name å­—æ®µ\næ˜¯ä»»åŠ¡çš„è¯´æ˜ï¼Œå¯ä»¥ä»»æ„å†™ã€‚\njobs.\u0026lt;job_id\u0026gt;.runs-on å­—æ®µ\næ˜¯æŒ‡å®šè¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚å®ƒæ˜¯å¿…å¡«å­—æ®µã€‚ç›®å‰å¯ç”¨çš„è™šæ‹Ÿæœºè§ å®˜æ–¹æ–‡æ¡£\njobs: publish: name: auto publish blog runs-on: ubuntu-latest 4. jobs.\u0026lt;job_id\u0026gt;.steps å­—æ®µ # æ˜¯æŒ‡ä½œä¸šåŒ…å«ä¸€ç³»åˆ—ä»»åŠ¡ï¼Œç§°ä¸º stepsã€‚ æ­¥éª¤å¯ä»¥è¿è¡Œå‘½ä»¤ã€è¿è¡Œè®¾ç½®ä»»åŠ¡ï¼Œæˆ–è€…è¿è¡Œæ‚¨çš„ä»“åº“ã€å…¬å…±ä»“åº“ä¸­çš„æ“ä½œæˆ– Docker æ³¨å†Œè¡¨ä¸­å‘å¸ƒçš„æ“ä½œã€‚\næ¯ä¸ª Job å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚\njobs.\u0026lt;job_id\u0026gt;.steps.nameå­—æ®µ\næ˜¯æŒ‡æ­¥éª¤åç§°ã€‚\njobs.\u0026lt;job_id\u0026gt;.steps.uses å­—æ®µ\næ˜¯æŒ‡å¯ä»¥ä½¿ç”¨åœ¨ä¸å·¥ä½œæµã€ å®˜æ–¹actionsã€ å®˜æ–¹actionså¸‚åœºæˆ–è€… å·²å‘å¸ƒçš„ Docker å®¹å™¨æ˜ åƒç›¸åŒçš„å­˜å‚¨åº“ä¸­å®šä¹‰çš„æ“ä½œã€‚\njobs.\u0026lt;job_id\u0026gt;.steps.with å­—æ®µ\næ˜¯æŒ‡æŸäº›æ“ä½œéœ€è¦å¿…é¡»ä½¿ç”¨ with å…³é”®å­—è®¾ç½®çš„è¾“å…¥ã€‚å¾—çœ‹å…·ä½“å¼•ç”¨çš„å·¥ä½œæµéœ€è¦çš„å‚æ•°ã€‚\nä¸‹é¢é€æ­¥åˆ†ææ¯ä¸ªæ­¥éª¤çš„ä½œç”¨\nsteps: - name: Checkout uses: actions/checkout@v4 with: submodules: true fetch-depth: 0 ä¸Šé¢æ˜¯å¼•ç”¨äº† GitHub Action Checkout @v4ç‰ˆæœ¬ è¿™ä¸ªå·¥ä½œæµã€‚\nå®ƒé€šå¸¸æ˜¯è®¸å¤šå·¥ä½œæµçš„ç¬¬ä¸€æ­¥ï¼Œç”¨äºè·å–æºç ï¼ˆå°†ä»“åº“çš„å†…å®¹æ£€å‡ºåˆ°è¿è¡Œå·¥ä½œæµçš„è™šæ‹Ÿæœºä¸Šï¼Œä½¿å¾—åç»­æ­¥éª¤å¯ä»¥è®¿é—®å’Œæ“ä½œä»£ç ã€‚ï¼‰\nsubmodulesï¼štrueï¼Œä¼šæ£€å‡ºå­æ¨¡å—ï¼Œå³æˆ‘ä»¬çš„ä¸»é¢˜æ¨¡å—ã€‚ fetch-depth: 0ï¼ŒæŒ‡å®šæ£€å‡ºçš„æäº¤å†å²è®°å½•æ·±åº¦ã€‚é»˜è®¤æ˜¯ 1ï¼Œå³åªæ£€å‡ºæœ€æ–°çš„æäº¤ã€‚è®¾ç½®ä¸º 0 è¡¨ç¤ºå®Œæ•´æ£€å‡ºæ‰€æœ‰å†å²è®°å½•ã€‚ ä¾‹å¦‚ï¼š\n- name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \u0026#34;latest\u0026#34; ä¸Šé¢æ˜¯å¼•ç”¨äº† GitHub Action Hugo setup @v3ç‰ˆæœ¬ è¿™ä¸ªå·¥ä½œæµã€‚\nä½œç”¨æ˜¯å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Hugo é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ã€‚\nä¾‹å¦‚ï¼š\n- name: Build Web run: hugo è¿™ä¸€æ­¥éª¤æ‰§è¡Œäº† hugo å‘½ä»¤ï¼Œç”¨äºè¿è¡Œ Hugo å‘½ä»¤æ¥æ„å»ºç½‘ç«™ã€‚\nä¾‹å¦‚ï¼š\n- name: Deploy Web uses: peaceiris/actions-gh-pages@v4 with: PERSONAL_TOKEN: ${{ secrets.AUTO_PUBLISH_BLOG_TOKEN }} EXTERNAL_REPOSITORY: LcenArthas/LcenArthas.github.io PUBLISH_BRANCH: main PUBLISH_DIR: ./public commit_message: ${{ github.event.head_commit.message }} ä¸Šé¢æ˜¯å¼•ç”¨äº† GitHub Action GitHub Pages action @v4ç‰ˆæœ¬ è¿™ä¸ªå·¥ä½œæµã€‚\nä½œç”¨æ˜¯ç”¨äºå°†ç”Ÿæˆçš„é™æ€ç½‘ç«™éƒ¨ç½²åˆ° GitHub Pageã€‚\nEXTERNAL_REPOSITORY: LcenArthas/LcenArthas.github.ioï¼ŒæŒ‡å®šè¦å°†å†…å®¹éƒ¨ç½²åˆ°çš„å¤–éƒ¨ä»“åº“ã€‚\nPERSONAL_TOKEN: ${{ secrets.AUTO_PUBLISH_BLOG_TOKEN }}ï¼Œç”¨äºè®¤è¯çš„ GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œé€šå¸¸é€šè¿‡ GitHub Secrets ç®¡ç†ã€‚\ncommit_message: ${{ github.event.head_commit.message }}ï¼Œä½¿ç”¨è§¦å‘å·¥ä½œæµçš„æäº¤ä¿¡æ¯ä½œä¸ºéƒ¨ç½²çš„æäº¤ä¿¡æ¯ã€‚è¿™æ ·å¯ä»¥ä¿ç•™æäº¤å†å²çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚\nPUBLISH_BRANCH: main, æŒ‡å®šè¦æ¨é€åˆ°çš„ç›®æ ‡åˆ†æ”¯ï¼Œå¦‚æœä¸æƒ³æ–°å»ºåˆ†æ”¯ï¼ŒæŒ‡å®š Github Page çš„ä¸»åˆ†æ”¯ï¼ˆmain/masterï¼‰\n5. å¦‚ä½•åˆ›å»º secrets.AUTO_PUBLISH_BLOG_TOKEN # è¦åœ¨ GitHub è´¦æˆ·ä¸‹ Setting - Developer setting - Personal access tokens ä¸‹åˆ›å»ºä¸€ä¸ª Tokenã€‚æƒé™éœ€è¦å¼€å¯ repo ä¸ workflowã€‚ é…ç½®åå¤åˆ¶ç”Ÿæˆçš„ Tokenï¼ˆæ³¨ï¼šåªä¼šå‡ºç°ä¸€æ¬¡, æ¨èå¦å­˜ä¸€ä¸ªåœ°æ–¹ï¼‰ Make sure to copy your personal access token now. You wonâ€™t be able to see it again! ç„¶ååœ¨æˆ‘ä»¬åšå®¢æºä»“åº“çš„ Settings - Secrets - Actions ä¸­æ·»åŠ  Tokenï¼Œ ç²˜è´´åœ¨ Secret ä¸­ï¼ŒName éšä¾¿èµ·ä¸€ä¸ªï¼Œä½†æ˜¯æ³¨æ„è¦å’Œ PERSONAL_TOKEN: ${{ secrets.AUTO_PUBLISH_BLOG_TOKEN }} åé¢çš„AUTO_PUBLISH_BLOG_TOKEN ä¸€è‡´ï¼Œè¿™æ · GitHub Action å°±å¯ä»¥è·å–åˆ° Token äº†ã€‚\nå®Œæˆä¸Šè¿°é…ç½®åï¼Œæ¨é€ä»£ç è‡³ä»“åº“ï¼Œå³å¯è§¦å‘ GitHub Actionï¼Œè‡ªåŠ¨ç”Ÿæˆåšå®¢é¡µé¢å¹¶æ¨é€è‡³ GitHub Pages ä»“åº“ã€‚ 2. æ¨é€æœ¬åœ°åšå®¢ä»£ç è‡³ä»“åº“ # å®Œæˆä¸Šè¿°é…ç½®åï¼Œæ¨é€ä»£ç è‡³ä»“åº“ï¼Œå³å¯è§¦å‘ GitHub Actionï¼Œè‡ªåŠ¨ç”Ÿæˆåšå®¢é¡µé¢å¹¶æ¨é€è‡³ GitHub Pages ä»“åº“ã€‚\nå¯ä»¥åœ¨ä»“åº“çš„ Actions - All workflows ä¸­çœ‹åˆ°è¿è¡ŒçŠ¶æ€å’Œlogsã€‚\nå‚è€ƒèµ„æ–™ # [1]. é˜®ä¸€å³°GitHub Actions å…¥é—¨æ•™ç¨‹\n[2]. GitHub Actions å®˜æ–¹æ–‡æ¡£\n[3]. Hugo + GitHub Actionï¼Œæ­å»ºä½ çš„åšå®¢è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ\n","date":"2024-06-15","externalUrl":null,"permalink":"/blog/github-action-+-%E5%9F%BA%E4%BA%8E-github-page-blog-%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/","section":"å½’æ¡£","summary":"","title":"Github Action + åŸºäº Github Page Blog è‡ªåŠ¨å‘å¸ƒ","type":"blog"},{"content":" About Me # ç¨‹åºå‘˜ï¼Œé˜…è¯»è€…ï¼Œäººé—´è§‚å¯Ÿè€…ï¼Œå¿«ä¹NPC About Site # æœ¬ç«™ç”Ÿæ—¥ï¼š2024-06-02 ","date":"2024-06-02","externalUrl":null,"permalink":"/about/","section":"","summary":"","title":"About","type":"page"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/movienote/","section":"ç”µå½±","summary":"","title":"ç”µå½±","type":"movienote"}]